<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Tool x·ª≠ l√Ω ·∫£nh SEO + Vi·∫øt b√†i AI cho Blogger - N√¢ng cao</title>
  <style>
    body { 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      padding: 20px; 
      max-width: 1200px; 
      margin: auto; 
      background: #f5f5f5;
    }
    .container { 
      background: white; 
      padding: 30px; 
      border-radius: 10px; 
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    h2 { 
      color: #2c3e50; 
      text-align: center; 
      margin-bottom: 30px;
      font-size: 28px;
    }
    h3 { 
      color: #34495e; 
      border-bottom: 2px solid #3498db; 
      padding-bottom: 10px;
      margin-top: 30px;
    }
    img { 
      max-width: 150px; 
      border: 2px solid #ddd; 
      margin: 5px; 
      border-radius: 5px;
      transition: transform 0.3s ease;
    }
    img:hover { transform: scale(1.05); }
    .preview-wrapper { 
      display: flex; 
      flex-wrap: wrap; 
      gap: 10px; 
      margin: 20px 0;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
    }
    textarea, input[type=text], select { 
      width: 100%; 
      box-sizing: border-box; 
      padding: 12px;
      border: 2px solid #ddd;
      border-radius: 5px;
      font-size: 14px;
    }
    textarea { 
      height: 200px; 
      margin-top: 10px; 
      font-family: 'Courier New', monospace;
      resize: vertical;
    }
    button { 
      margin-top: 10px; 
      margin-right: 10px; 
      padding: 12px 20px; 
      background: linear-gradient(45deg, #3498db, #2980b9);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
    }
    button:hover { 
      background: linear-gradient(45deg, #2980b9, #3498db);
      transform: translateY(-2px);
    }
    button.copy-btn {
      background: linear-gradient(45deg, #27ae60, #2ecc71);
      padding: 8px 15px;
      font-size: 12px;
    }
    button.copy-btn:hover {
      background: linear-gradient(45deg, #2ecc71, #27ae60);
    }
    button.special-btn {
      background: linear-gradient(45deg, #e74c3c, #c0392b);
    }
    button.special-btn:hover {
      background: linear-gradient(45deg, #c0392b, #e74c3c);
    }
    #aiOutput { height: 300px; }
    #htmlBloggerOutput { height: 400px; }
    .status { 
      color: #27ae60; 
      font-weight: bold; 
      margin: 10px 0;
    }
    .error { color: #e74c3c; }
    .success { color: #27ae60; }
    .input-group {
      margin-bottom: 20px;
    }
    .input-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: #2c3e50;
    }
    .preview-container {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      margin-top: 20px;
    }
    .preview-content {
      line-height: 1.6;
      color: #333;
    }
    .preview-content h1, .preview-content h2, .preview-content h3 {
      color: #2c3e50;
    }
    .preview-content img {
      max-width: 100%;
      height: auto;
      margin: 10px 0;
      border-radius: 5px;
    }
    .tabs {
      display: flex;
      margin-bottom: 20px;
      border-bottom: 2px solid #ddd;
    }
    .tab {
      padding: 10px 20px;
      cursor: pointer;
      background: #f8f9fa;
      border: none;
      border-bottom: 2px solid transparent;
      margin-right: 5px;
      border-radius: 5px 5px 0 0;
    }
    .tab.active {
      background: #3498db;
      color: white;
      border-bottom-color: #3498db;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .copy-success {
      background: #2ecc71;
      color: white;
      padding: 5px 10px;
      border-radius: 3px;
      font-size: 12px;
      margin-left: 10px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .copy-success.show {
      opacity: 1;
    }
    .content-type-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    .content-type-card {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      border: 2px solid #ddd;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }
    .content-type-card:hover {
      border-color: #3498db;
      transform: translateY(-2px);
    }
    .content-type-card.selected {
      border-color: #e74c3c;
      background: #fff5f5;
    }
    .content-type-card h4 {
      margin: 0 0 10px 0;
      color: #2c3e50;
    }
    .content-type-card p {
      margin: 0;
      color: #666;
      font-size: 14px;
    }
    .advanced-options {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
    }
    .option-row {
      display: flex;
      gap: 20px;
      margin-bottom: 15px;
      align-items: center;
    }
    .option-row label {
      min-width: 150px;
      margin-bottom: 0;
    }
    .option-row select, .option-row input {
      flex: 1;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üõ†Ô∏è Tool X·ª≠ L√Ω ·∫¢nh SEO + Vi·∫øt B√†i AI cho Blogger - N√¢ng Cao</h2>

    <section>
      <h3>1. X·ª≠ l√Ω ·∫£nh</h3>
      
      <div class="input-group">
        <label>üì§ Ch·ªçn ·∫£nh:</label>
        <input type="file" id="imageInput" accept="image/*" multiple />
      </div>

      <div class="input-group">
        <label>üîë T·ª´ kh√≥a SEO:</label>
        <input type="text" id="keywordInput" placeholder="V√≠ d·ª•: Qu·ª≥nh Alee bikini" />
      </div>

      <div class="input-group">
        <label>üñºÔ∏è ƒê·ªãnh d·∫°ng ·∫£nh:</label>
        <select id="formatSelect">
          <option value="jpeg">JPEG</option>
          <option value="webp">WebP</option>
        </select>
      </div>

      <div class="input-group">
        <label>üîñ Ch·ªçn watermark (PNG):</label>
        <input type="file" id="watermarkInput" accept="image/png" />
      </div>

      <button onclick="processImages()">üî• X·ª≠ l√Ω ·∫£nh & T·∫£i v·ªÅ</button>
      <button onclick="generateHtml()">üìã Sinh HTML ch√®n ·∫£nh</button>

      <div class="preview-wrapper" id="preview"></div>

      <div class="input-group">
        <label>üìÑ M√£ HTML ·∫£nh ƒë·ªÉ ch√®n:</label>
        <button class="copy-btn" onclick="copyToClipboard('htmlOutput')">üìã Copy HTML</button>
        <span id="htmlCopySuccess" class="copy-success">ƒê√£ copy!</span>
        <textarea id="htmlOutput" readonly placeholder="HTML ·∫£nh s·∫Ω hi·ªán ·ªü ƒë√¢y sau khi x·ª≠ l√Ω..."></textarea>
      </div>
    </section>

    <hr style="margin: 40px 0; border: 1px solid #ddd;" />

    <section>
      <h3>2. Vi·∫øt b√†i t·ª± ƒë·ªông b·∫±ng AI</h3>
      
      <div class="input-group">
        <label>üìù Ch·ªçn lo·∫°i n·ªôi dung:</label>
        <div class="content-type-grid">
          <div class="content-type-card" onclick="selectContentType('general')">
            <h4>üåü N·ªôi dung t·ªïng qu√°t</h4>
            <p>B√†i vi·∫øt th√¥ng th∆∞·ªùng v·ªÅ c√°c ch·ªß ƒë·ªÅ kh√°c nhau</p>
          </div>
          <div class="content-type-card" onclick="selectContentType('facebook-girl')">
            <h4>üë© G√°i xinh Facebook</h4>
            <p>B√†i vi·∫øt v·ªÅ nh·ªØng c√¥ g√°i n·ªïi ti·∫øng tr√™n Facebook</p>
          </div>
          <div class="content-type-card" onclick="selectContentType('hot-girl')">
            <h4>üî• Hot girl</h4>
            <p>N·ªôi dung v·ªÅ c√°c hot girl n·ªïi ti·∫øng</p>
          </div>
          <div class="content-type-card" onclick="selectContentType('actress')">
            <h4>üé≠ Di·ªÖn vi√™n</h4>
            <p>B√†i vi·∫øt v·ªÅ c√°c di·ªÖn vi√™n, ng√¥i sao ƒëi·ªán ·∫£nh</p>
          </div>
          <div class="content-type-card" onclick="selectContentType('singer')">
            <h4>üé§ Ca sƒ©</h4>
            <p>N·ªôi dung v·ªÅ c√°c ca sƒ©, ngh·ªá sƒ© √¢m nh·∫°c</p>
          </div>
          <div class="content-type-card" onclick="selectContentType('beauty-photos')">
            <h4>üì∏ ·∫¢nh g√°i xinh</h4>
            <p>B√†i vi·∫øt gi·ªõi thi·ªáu b·ªô s∆∞u t·∫≠p ·∫£nh ƒë·∫πp</p>
          </div>
        </div>
      </div>

      <div class="input-group">
        <label>üìù Nh·∫≠p t√™n/ch·ªß ƒë·ªÅ:</label>
        <input type="text" id="aiTopicInput" placeholder="V√≠ d·ª•: Qu·ª≥nh Alee, Du l·ªãch ƒê√† N·∫µng..." />
      </div>

      <div class="advanced-options">
        <h4>‚öôÔ∏è T√πy ch·ªçn n√¢ng cao</h4>
        
        <div class="option-row">
          <label>üé® Phong c√°ch vi·∫øt:</label>
          <select id="writingStyle">
            <option value="casual">Th√¢n thi·ªán, g·∫ßn g≈©i</option>
            <option value="professional">Chuy√™n nghi·ªáp</option>
            <option value="trendy">Xu h∆∞·ªõng, hi·ªán ƒë·∫°i</option>
            <option value="romantic">L√£ng m·∫°n, t√¨nh c·∫£m</option>
          </select>
        </div>

        <div class="option-row">
          <label>üìè ƒê·ªô d√†i b√†i vi·∫øt:</label>
          <select id="contentLength">
            <option value="short">Ng·∫Øn (300-500 t·ª´)</option>
            <option value="medium">Trung b√¨nh (500-800 t·ª´)</option>
            <option value="long">D√†i (800-1200 t·ª´)</option>
          </select>
        </div>

        <div class="option-row">
          <label>üéØ M·ª•c ƒë√≠ch:</label>
          <select id="contentPurpose">
            <option value="introduce">Gi·ªõi thi·ªáu</option>
            <option value="review">ƒê√°nh gi√°</option>
            <option value="news">Tin t·ª©c</option>
            <option value="gallery">Th∆∞ vi·ªán ·∫£nh</option>
            <option value="interview">Ph·ªèng v·∫•n</option>
          </select>
        </div>

        <div class="option-row">
          <label>üñºÔ∏è Ch√®n ·∫£nh:</label>
          <select id="imageInsertMode">
            <option value="none">Kh√¥ng ch√®n ·∫£nh</option>
            <option value="top">Ch√®n ·∫£nh ƒë·∫ßu b√†i</option>
            <option value="distributed">Ph√¢n b·ªë ·∫£nh trong b√†i</option>
            <option value="bottom">Ch√®n ·∫£nh cu·ªëi b√†i</option>
          </select>
        </div>
      </div>

      <button onclick="generateAIArticle()" class="special-btn">ü§ñ T·∫°o b√†i vi·∫øt t·ª± ƒë·ªông</button>
      <button onclick="generateBloggerHTML()">üìù T·∫°o HTML Blogger ho√†n ch·ªânh</button>
      <button onclick="generateSEOTags()">üîç T·∫°o SEO Tags</button>

      <p id="aiStatus" class="status"></p>

      <div class="tabs">
        <button class="tab active" onclick="showTab('content')">üìù N·ªôi dung</button>
        <button class="tab" onclick="showTab('html')">üîß HTML Blogger</button>
        <button class="tab" onclick="showTab('seo')">üîç SEO Tags</button>
        <button class="tab" onclick="showTab('preview')">üëÅÔ∏è Xem tr∆∞·ªõc</button>
      </div>

      <div id="content-tab" class="tab-content active">
        <div class="input-group">
          <label>N·ªôi dung b√†i vi·∫øt:</label>
          <button class="copy-btn" onclick="copyToClipboard('aiOutput')">üìã Copy n·ªôi dung</button>
          <span id="contentCopySuccess" class="copy-success">ƒê√£ copy!</span>
          <textarea id="aiOutput" placeholder="N·ªôi dung b√†i vi·∫øt t·ª± ƒë·ªông s·∫Ω hi·ªán ·ªü ƒë√¢y..."></textarea>
        </div>
      </div>

      <div id="html-tab" class="tab-content">
        <div class="input-group">
          <label>HTML ho√†n ch·ªânh cho Blogger:</label>
          <button class="copy-btn" onclick="copyToClipboard('htmlBloggerOutput')">üìã Copy HTML</button>
          <span id="htmlBloggerCopySuccess" class="copy-success">ƒê√£ copy!</span>
          <textarea id="htmlBloggerOutput" placeholder="HTML ho√†n ch·ªânh cho Blogger s·∫Ω hi·ªán ·ªü ƒë√¢y..."></textarea>
        </div>
      </div>

      <div id="seo-tab" class="tab-content">
        <div class="input-group">
          <label>SEO Tags v√† Meta Description:</label>
          <button class="copy-btn" onclick="copyToClipboard('seoOutput')">üìã Copy SEO</button>
          <span id="seoCopySuccess" class="copy-success">ƒê√£ copy!</span>
          <textarea id="seoOutput" placeholder="SEO tags s·∫Ω hi·ªán ·ªü ƒë√¢y..."></textarea>
        </div>
      </div>

      <div id="preview-tab" class="tab-content">
        <div class="preview-container">
          <h3>üëÅÔ∏è Xem tr∆∞·ªõc b√†i vi·∫øt</h3>
          <div id="previewContent" class="preview-content">
            <p style="color: #666; font-style: italic;">B√†i vi·∫øt s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y sau khi t·∫°o n·ªôi dung...</p>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
    let processedImages = [];
    let currentImageLinks = [];
    let selectedContentType = 'general';

    // H√†m chuy·ªÉn chu·ªói ti·∫øng Vi·ªát c√≥ d·∫•u sang kh√¥ng d·∫•u
    function removeVietnamese(str) {
      str = str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
      str = str.replace(/ƒë/g, "d").replace(/ƒê/g, "D");
      str = str.replace(/[^a-zA-Z0-9\s]/g, "");
      return str.trim().replace(/\s+/g, "-").toLowerCase();
    }

    // Ch·ªçn lo·∫°i n·ªôi dung
    function selectContentType(type) {
      selectedContentType = type;
      document.querySelectorAll('.content-type-card').forEach(card => {
        card.classList.remove('selected');
      });
      event.target.closest('.content-type-card').classList.add('selected');
    }

    // X·ª≠ l√Ω ·∫£nh
    function processImages() {
      const images = document.getElementById("imageInput").files;
      const keyword = document.getElementById("keywordInput").value.trim();
      const format = document.getElementById("formatSelect").value;
      const watermarkFile = document.getElementById("watermarkInput").files[0];

      if (!images.length || !keyword) {
        alert("Vui l√≤ng ch·ªçn ·∫£nh v√† nh·∫≠p t·ª´ kh√≥a.");
        return;
      }

      const cleanName = removeVietnamese(keyword);
      const preview = document.getElementById("preview");
      preview.innerHTML = "";
      processedImages = [];
      currentImageLinks = [];

      Array.from(images).forEach((image, index) => {
        const reader = new FileReader();
        reader.onload = function(e) {
          const img = new Image();
          img.onload = function() {
            const maxWidth = 1200;
            let scale = 1;
            if (img.width > maxWidth) {
              scale = maxWidth / img.width;
            }
            const canvas = document.createElement("canvas");
            canvas.width = img.width * scale;
            canvas.height = img.height * scale;
            const ctx = canvas.getContext("2d");
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

            if (watermarkFile) {
              const wmReader = new FileReader();
              wmReader.onload = function(ev) {
                const wmImg = new Image();
                wmImg.onload = function() {
                  const wmScale = 0.2 * scale;
                  const wmWidth = wmImg.width * wmScale;
                  const wmHeight = wmImg.height * wmScale;
                  ctx.drawImage(wmImg, canvas.width - wmWidth - 10, canvas.height - wmHeight - 10, wmWidth, wmHeight);
                  exportImage(canvas, cleanName, index, format, preview, keyword);
                };
                wmImg.src = ev.target.result;
              };
              wmReader.readAsDataURL(watermarkFile);
            } else {
              exportImage(canvas, cleanName, index, format, preview, keyword);
            }
          };
          img.src = e.target.result;
        };
        reader.readAsDataURL(image);
      });
    }

    function exportImage(canvas, baseName, index, format, preview, keyword) {
      if (!canvas.toBlob) {
        alert("Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ t√≠nh nƒÉng n√†y.");
        return;
      }
      canvas.toBlob(function(blob) {
        const fileName = `${baseName}-${index + 1}.${format}`;
        const url = URL.createObjectURL(blob);

        const a = document.createElement("a");
        a.href = url;
        a.download = fileName;
        document.body.appendChild(a);
        a.click();
        a.remove();

        const imgTag = document.createElement("img");
        imgTag.src = url;
        imgTag.title = fileName;
        imgTag.alt = keyword;
        preview.appendChild(imgTag);

        processedImages.push({
          url: url,
          filename: fileName,
          alt: keyword,
          title: fileName
        });

        const placeholderLink = `https://your-image-host.com/${fileName}`;
        currentImageLinks.push(placeholderLink);

        setTimeout(() => {
          URL.revokeObjectURL(url);
        }, 300000);
      }, `image/${format}`, 0.9);
    }

    function generateHtml() {
      const imgs = document.querySelectorAll("#preview img");
      let html = "";
      imgs.forEach((img, index) => {
        const placeholderLink = `https://your-image-host.com/${img.title}`;
        html += `<img src="${placeholderLink}" alt="${img.alt}" title="${img.title}" style="max-width:100%; height:auto; border-radius:5px; margin:10px 0;" /><br>\n`;
      });
      document.getElementById("htmlOutput").value = html;
    }

    // T·∫°o b√†i vi·∫øt AI v·ªõi kh·∫£ nƒÉng ch√®n ·∫£nh
    async function generateAIArticle() {
      const topic = document.getElementById("aiTopicInput").value.trim();
      const aiStatus = document.getElementById("aiStatus");
      const aiOutput = document.getElementById("aiOutput");
      const insertMode = document.getElementById("imageInsertMode").value;
      const writingStyle = document.getElementById("writingStyle").value;
      const contentLength = document.getElementById("contentLength").value;
      const contentPurpose = document.getElementById("contentPurpose").value;

      if (!topic) {
        alert("Vui l√≤ng nh·∫≠p t√™n/ch·ªß ƒë·ªÅ b√†i vi·∫øt.");
        return;
      }

      aiStatus.textContent = "ƒêang t·∫°o b√†i vi·∫øt... vui l√≤ng ch·ªù trong gi√¢y l√°t.";
      aiStatus.className = "status";
      aiOutput.value = "";

      const sampleContent = generateSpecializedContent(topic, selectedContentType, writingStyle, contentLength, contentPurpose);
      const contentWithImages = insertImagesIntoContent(sampleContent, insertMode);
      
      aiOutput.value = contentWithImages;
      aiStatus.textContent = "T·∫°o b√†i vi·∫øt th√†nh c√¥ng!";
      aiStatus.className = "status success";

      updatePreview();
    }

    function generateSpecializedContent(topic, type, style, length, purpose) {
      const contentTemplates = {
        'facebook-girl': {
          title: `${topic} - G√°i xinh Facebook ƒëang ƒë∆∞·ª£c c·ªông ƒë·ªìng m·∫°ng y√™u th√≠ch`,
          intro: `${topic} l√† m·ªôt trong nh·ªØng c√¥ g√°i xinh ƒë·∫πp ƒë∆∞·ª£c c·ªông ƒë·ªìng m·∫°ng Vi·ªát Nam y√™u th√≠ch nh·∫•t hi·ªán nay. V·ªõi v·∫ª ƒë·∫πp t·ª± nhi√™n v√† phong c√°ch th·ªùi trang ·∫•n t∆∞·ª£ng, ${topic} ƒë√£ thu h√∫t h√†ng tri·ªáu l∆∞·ª£t theo d√µi tr√™n Facebook.`,
          sections: [
            'Ti·ªÉu s·ª≠ v√† th√¥ng tin c√° nh√¢n',
            'H√†nh tr√¨nh n·ªïi ti·∫øng tr√™n m·∫°ng x√£ h·ªôi',
            'Phong c√°ch th·ªùi trang ƒë·∫∑c tr∆∞ng',
            'Nh·ªØng b·ª©c ·∫£nh g√¢y ·∫•n t∆∞·ª£ng m·∫°nh',
            'T∆∞∆°ng t√°c v·ªõi c·ªông ƒë·ªìng fan'
          ]
        },
        'hot-girl': {
          title: `${topic} - Hot girl n·ªïi ti·∫øng v·ªõi v·∫ª ƒë·∫πp thu h√∫t`,
          intro: `${topic} ƒë∆∞·ª£c bi·∫øt ƒë·∫øn l√† m·ªôt trong nh·ªØng hot girl c√≥ s·ª©c h√∫t m·∫°nh m·∫Ω nh·∫•t tr√™n m·∫°ng x√£ h·ªôi. V·ªõi v·∫ª ƒë·∫πp quy·∫øn r≈© v√† t√≠nh c√°ch th√∫ v·ªã, c√¥ n√†ng ƒë√£ tr·ªü th√†nh bi·ªÉu t∆∞·ª£ng c·ªßa th·∫ø h·ªá tr·∫ª.`,
          sections: [
            'Th√¥ng tin c√° nh√¢n v√† xu·∫•t th√¢n',
            'H√†nh tr√¨nh tr·ªü th√†nh hot girl',
            'B√≠ quy·∫øt gi·ªØ d√°ng v√† l√†m ƒë·∫πp',
            'Phong c√°ch s·ªëng v√† s·ªü th√≠ch',
            'T∆∞∆°ng t√°c v·ªõi fan v√† c·ªông ƒë·ªìng'
          ]
        },
        'actress': {
          title: `${topic} - Di·ªÖn vi√™n t√†i nƒÉng v·ªõi s·ª± nghi·ªáp ·∫•n t∆∞·ª£ng`,
          intro: `${topic} l√† m·ªôt trong nh·ªØng di·ªÖn vi√™n ƒë∆∞·ª£c y√™u th√≠ch nh·∫•t c·ªßa m√†n ·∫£nh Vi·ªát. V·ªõi t√†i nƒÉng di·ªÖn xu·∫•t xu·∫•t s·∫Øc v√† v·∫ª ƒë·∫πp t·ª± nhi√™n, c√¥ ƒë√£ ƒë·ªÉ l·∫°i d·∫•u ·∫•n s√¢u ƒë·∫≠m trong l√≤ng kh√°n gi·∫£.`,
          sections: [
            'Ti·ªÉu s·ª≠ v√† qu√° tr√¨nh h·ªçc t·∫≠p',
            'H√†nh tr√¨nh s·ª± nghi·ªáp di·ªÖn xu·∫•t',
            'Nh·ªØng vai di·ªÖn ·∫•n t∆∞·ª£ng',
            'Cu·ªôc s·ªëng c√° nh√¢n v√† gia ƒë√¨nh',
            'D·ª± √°n s·∫Øp t·ªõi v√† ƒë·ªãnh h∆∞·ªõng t∆∞∆°ng lai'
          ]
        },
        'singer': {
          title: `${topic} - Ca sƒ© t√†i nƒÉng v·ªõi gi·ªçng h√°t ƒë·∫ßy c·∫£m x√∫c`,
          intro: `${topic} l√† m·ªôt trong nh·ªØng ca sƒ© ƒë∆∞·ª£c y√™u th√≠ch nh·∫•t trong l√†ng nh·∫°c Vi·ªát. V·ªõi gi·ªçng h√°t ƒë·∫ßy c·∫£m x√∫c v√† phong c√°ch √¢m nh·∫°c ƒë·ªôc ƒë√°o, ${topic} ƒë√£ chinh ph·ª•c tr√°i tim c·ªßa h√†ng tri·ªáu fan.`,
          sections: [
            'H√†nh tr√¨nh √¢m nh·∫°c v√† s·ª± nghi·ªáp',
            'Nh·ªØng ca kh√∫c hit l√†m n√™n t√™n tu·ªïi',
            'Phong c√°ch √¢m nh·∫°c ƒë·∫∑c tr∆∞ng',
            'Cu·ªôc s·ªëng v√† s·ªü th√≠ch c√° nh√¢n',
            'D·ª± √°n √¢m nh·∫°c s·∫Øp t·ªõi'
          ]
        },
        'beauty-photos': {
          title: `B·ªô s∆∞u t·∫≠p ·∫£nh ${topic} - V·∫ª ƒë·∫πp t·ª± nhi√™n v√† quy·∫øn r≈©`,
          intro: `B·ªô s∆∞u t·∫≠p ·∫£nh ${topic} mang ƒë·∫øn nh·ªØng kho·∫£nh kh·∫Øc ƒë·∫πp nh·∫•t, th·ªÉ hi·ªán v·∫ª ƒë·∫πp t·ª± nhi√™n v√† quy·∫øn r≈©. M·ªói b·ª©c ·∫£nh ƒë·ªÅu l√† m·ªôt t√°c ph·∫©m ngh·ªá thu·∫≠t, kh·∫Øc h·ªça ƒë∆∞·ª£c n√©t ƒë·∫πp tinh t·∫ø v√† thu h√∫t.`,
          sections: [
            'Nh·ªØng b·ª©c ·∫£nh portrait ·∫•n t∆∞·ª£ng',
            'Phong c√°ch th·ªùi trang ƒëa d·∫°ng',
            'Kho·∫£nh kh·∫Øc t·ª± nhi√™n v√† g·∫ßn g≈©i',
            'B·ªëi c·∫£nh v√† concept ch·ª•p ·∫£nh',
            'K·ªπ thu·∫≠t nhi·∫øp ·∫£nh v√† ch·ªânh s·ª≠a'
          ]
        },
        'general': {
          title: topic,
          intro: `${topic} l√† m·ªôt ch·ªß ƒë·ªÅ th√∫ v·ªã v√† ƒë∆∞·ª£c nhi·ªÅu ng∆∞·ªùi quan t√¢m. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω kh√°m ph√° nh·ªØng th√¥ng tin chi ti·∫øt v√† h·ªØu √≠ch nh·∫•t v·ªÅ ${topic}.`,
          sections: [
            'T·ªïng quan v·ªÅ ch·ªß ƒë·ªÅ',
            'Nh·ªØng ƒëi·ªÅu c·∫ßn bi·∫øt',
            'H∆∞·ªõng d·∫´n chi ti·∫øt',
            'Kinh nghi·ªám v√† tips',
            'K·∫øt lu·∫≠n v√† ƒë√°nh gi√°'
          ]
        }
      };

      const template = contentTemplates[type] || contentTemplates['general'];
      
      let content = `# ${template.title}\n\n## Gi·ªõi thi·ªáu\n\n${template.intro}\n\n`;
      
      template.sections.forEach((section, index) => {
        content += `## ${index + 1}. ${section}\n\n`;
        
        if (length === 'short') {
          content += `N·ªôi dung v·ªÅ ${section.toLowerCase()} s·∫Ω ƒë∆∞·ª£c tr√¨nh b√†y m·ªôt c√°ch ng·∫Øn g·ªçn v√† s√∫c t√≠ch. Nh·ªØng th√¥ng tin quan tr·ªçng nh·∫•t s·∫Ω ƒë∆∞·ª£c ƒë∆∞a ra ƒë·ªÉ ng∆∞·ªùi ƒë·ªçc c√≥ th·ªÉ n·∫Øm b·∫Øt nhanh ch√≥ng.\n\n`;
        } else if (length === 'long') {
          content += `Ph·∫ßn n√†y s·∫Ω ƒëi s√¢u v√†o vi·ªác ph√¢n t√≠ch ${section.toLowerCase()} m·ªôt c√°ch chi ti·∫øt v√† to√†n di·ªán. Ch√∫ng ta s·∫Ω kh√°m ph√° t·ª´ng kh√≠a c·∫°nh kh√°c nhau, t·ª´ nh·ªØng y·∫øu t·ªë c∆° b·∫£n ƒë·∫øn nh·ªØng ƒëi·ªÅu ph·ª©c t·∫°p v√† s√¢u s·∫Øc h∆°n.\n\n`;
          content += `Th√¥ng qua vi·ªác t√¨m hi·ªÉu ${section.toLowerCase()}, ch√∫ng ta c√≥ th·ªÉ hi·ªÉu r√µ h∆°n v·ªÅ b·ª©c tranh t·ªïng th·ªÉ v√† r√∫t ra nh·ªØng b√†i h·ªçc qu√Ω gi√° cho b·∫£n th√¢n.\n\n`;
        } else {
          content += `${section} l√† m·ªôt kh√≠a c·∫°nh quan tr·ªçng c·∫ßn ƒë∆∞·ª£c t√¨m hi·ªÉu k·ªπ l∆∞·ª°ng. N·ªôi dung n√†y s·∫Ω cung c·∫•p th√¥ng tin c√¢n b·∫±ng, v·ª´a ƒë·ªß chi ti·∫øt v·ª´a d·ªÖ hi·ªÉu.\n\n`;
        }
      });

      // Th√™m k·∫øt lu·∫≠n
      content += `## K·∫øt lu·∫≠n\n\n`;
      if (type === 'facebook-girl' || type === 'hot-girl') {
        content += `${topic} th·ª±c s·ª± l√† m·ªôt bi·ªÉu t∆∞·ª£ng c·ªßa th·∫ø h·ªá tr·∫ª hi·ªán nay. V·ªõi v·∫ª ƒë·∫πp t·ª± nhi√™n v√† t√≠nh c√°ch th√∫ v·ªã, c√¥ n√†ng ƒë√£ v√† ƒëang ti·∫øp t·ª•c thu h√∫t s·ª± y√™u th√≠ch c·ªßa ƒë√¥ng ƒë·∫£o c·ªông ƒë·ªìng m·∫°ng.\n\n`;
      } else if (type === 'actress' || type === 'singer') {
        content += `${topic} l√† m·ªôt ngh·ªá sƒ© t√†i nƒÉng v·ªõi s·ª± nghi·ªáp ·∫•n t∆∞·ª£ng. Nh·ªØng ƒë√≥ng g√≥p c·ªßa ${topic} cho ngh·ªá thu·∫≠t Vi·ªát Nam th·∫≠t s·ª± ƒë√°ng ƒë∆∞·ª£c ghi nh·∫≠n v√† tr√¢n tr·ªçng.\n\n`;
      } else if (type === 'beauty-photos') {
        content += `B·ªô s∆∞u t·∫≠p ·∫£nh ${topic} mang ƒë·∫øn nh·ªØng kho·∫£nh kh·∫Øc ƒë·∫πp ƒë·∫Ω v√† ·∫•n t∆∞·ª£ng. M·ªói b·ª©c ·∫£nh ƒë·ªÅu th·ªÉ hi·ªán m·ªôt kh√≠a c·∫°nh kh√°c nhau c·ªßa v·∫ª ƒë·∫πp t·ª± nhi√™n.\n\n`;
      } else {
        content += `${topic} th·ª±c s·ª± l√† m·ªôt ch·ªß ƒë·ªÅ ƒë√°ng quan t√¢m v·ªõi nhi·ªÅu th√¥ng tin b·ªï √≠ch. Hy v·ªçng b√†i vi·∫øt n√†y ƒë√£ cung c·∫•p c√°i nh√¨n to√†n di·ªán v√† h·ªØu √≠ch.\n\n`;
      }
      
      content += `*C·∫£m ∆°n b·∫°n ƒë√£ ƒë·ªçc b√†i vi·∫øt. H√£y chia s·∫ª n·∫øu th·∫•y h·ªØu √≠ch v√† ƒë·ªÉ l·∫°i b√¨nh lu·∫≠n v·ªÅ √Ω ki·∫øn c·ªßa b·∫°n!*`;
      
      return content;
    }

    function insertImagesIntoContent(content, mode) {
      if (mode === 'none' || currentImageLinks.length === 0) {
        return content;
      }

      const keyword = document.getElementById('keywordInput').value || document.getElementById('aiTopicInput').value;
      const imageHtml = currentImageLinks.map((link, index) => 
        `<img src="${link}" alt="${keyword} - ·∫¢nh ${index + 1}" style="max-width:100%; height:auto; border-radius:5px; margin:10px 0;" />`
      ).join('\n');

      switch (mode) {
        case 'top':
          return imageHtml + '\n\n' + content;
        
        case 'bottom':
          return content + '\n\n' + imageHtml;
        
        case 'distributed':
          const sections = content.split('##');
          let result = sections[0];
          for (let i = 1; i < sections.length; i++) {
            result += '##' + sections[i];
            if (i <= currentImageLinks.length) {
              result += '\n\n' + `<img src="${currentImageLinks[i-1]}" alt="${keyword} - ·∫¢nh ${i}" style="max-width:100%; height:auto; border-radius:5px; margin:10px 0;" />` + '\n';
            }
          }
          return result;
        
        default:
          return content;
      }
    }

    // T·∫°o HTML ho√†n ch·ªânh cho Blogger
    function generateBloggerHTML() {
      const content = document.getElementById("aiOutput").value;
      const topic = document.getElementById("aiTopicInput").value.trim();
      const keyword = document.getElementById("keywordInput").value || topic;
      
      if (!content) {
        alert("Vui l√≤ng t·∫°o n·ªôi dung b√†i vi·∫øt tr∆∞·ªõc!");
        return;
      }

      let htmlContent = content
        .replace(/^# (.*$)/gm, '<h1>$1</h1>')
        .replace(/^## (.*$)/gm, '<h2>$1</h2>')
        .replace(/^### (.*$)/gm, '<h3>$1</h3>')
        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
        .replace(/\*(.*?)\*/g, '<em>$1</em>')
        .replace(/^- (.*$)/gm, '<li>$1</li>')
        .replace(/^(\d+)\. (.*$)/gm, '<li>$1. $2</li>')
        .replace(/\n\n/g, '</p><p>')
        .replace(/^(?!<h|<li|<img)(.+)$/gm, '<p>$1</p>')
        .replace(/<p><\/p>/g, '')
        .replace(/(<li>.*<\/li>)/gs, '<ul>$1</ul>')
        .replace(/<\/ul>\s*<ul>/g, '');

      const fullHTML = `<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${topic}</title>
    <meta name="description" content="${topic} - Th√¥ng tin chi ti·∫øt v√† h√¨nh ·∫£nh ƒë·∫πp nh·∫•t">
    <meta name="keywords" content="${keyword}, g√°i xinh, hot girl, ·∫£nh ƒë·∫πp, ${selectedContentType}">
    <meta property="og:title" content="${topic}">
    <meta property="og:description" content="${topic} - Th√¥ng tin chi ti·∫øt v√† h√¨nh ·∫£nh ƒë·∫πp nh·∫•t">
    <meta property="og:type" content="article">
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            line-height: 1.6; 
            margin: 0; 
            padding: 20px; 
            background: #f8f9fa;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        img { 
            max-width: 100%; 
            height: auto; 
            border-radius: 8px; 
            margin: 15px 0; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h1, h2, h3 { 
            color: #2c3e50; 
            margin-top: 30px;
        }
        h1 {
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            border-left: 4px solid #e74c3c;
            padding-left: 15px;
        }
        p { 
            margin: 15px 0; 
            text-align: justify;
        }
        ul { 
            margin: 15px 0; 
            padding-left: 30px; 
        }
        li { 
            margin: 8px 0; 
        }
        .article-meta {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="article-meta">
            <small>B√†i vi·∫øt v·ªÅ ${topic} | C·∫≠p nh·∫≠t: ${new Date().toLocaleDateString('vi-VN')}</small>
        </div>
        <article>
            ${htmlContent}
        </article>
        <div class="article-meta">
            <small>Tags: ${keyword}, ${selectedContentType === 'facebook-girl' ? 'g√°i xinh Facebook' : selectedContentType === 'hot-girl' ? 'hot girl' : selectedContentType === 'actress' ? 'di·ªÖn vi√™n' : selectedContentType === 'singer' ? 'ca sƒ©' : '·∫£nh ƒë·∫πp'}</small>
        </div>
    </div>
</body>
</html>`;

      document.getElementById("htmlBloggerOutput").value = fullHTML;
      showTab('html');
    }

    // T·∫°o SEO Tags
    function generateSEOTags() {
      const topic = document.getElementById("aiTopicInput").value.trim();
      const keyword = document.getElementById("keywordInput").value || topic;
      
      if (!topic) {
        alert("Vui l√≤ng nh·∫≠p t√™n/ch·ªß ƒë·ªÅ b√†i vi·∫øt!");
        return;
      }

      const seoTags = generateSEOContent(topic, keyword, selectedContentType);
      document.getElementById("seoOutput").value = seoTags;
      showTab('seo');
    }

    function generateSEOContent(topic, keyword, type) {
      const typeKeywords = {
        'facebook-girl': ['g√°i xinh facebook', 'hot girl facebook', 'beauty facebook', 'girl xinh', '·∫£nh g√°i ƒë·∫πp'],
        'hot-girl': ['hot girl', 'g√°i xinh', 'beauty girl', 'girl xinh ƒë·∫πp', 'hot girl vi·ªát nam'],
        'actress': ['di·ªÖn vi√™n', 'n·ªØ di·ªÖn vi√™n', 'ng√¥i sao', 'celebrity', 'actress vietnam'],
        'singer': ['ca sƒ©', 'n·ªØ ca sƒ©', 'ngh·ªá sƒ©', 'singer vietnam', '√¢m nh·∫°c'],
        'beauty-photos': ['·∫£nh g√°i xinh', '·∫£nh ƒë·∫πp', 'h√¨nh ·∫£nh ƒë·∫πp', 'beauty photos', 'girl photos'],
        'general': ['th√¥ng tin', 'h∆∞·ªõng d·∫´n', 'kinh nghi·ªám', 'tips', 'review']
      };

      const keywords = typeKeywords[type] || typeKeywords['general'];
      const allKeywords = [keyword, topic, ...keywords].join(', ');

      const descriptions = {
        'facebook-girl': `${topic} - G√°i xinh Facebook v·ªõi nh·ªØng h√¨nh ·∫£nh ƒë·∫πp nh·∫•t. Kh√°m ph√° th√¥ng tin v√† ·∫£nh hot nh·∫•t c·ªßa ${topic}.`,
        'hot-girl': `${topic} - Hot girl n·ªïi ti·∫øng v·ªõi v·∫ª ƒë·∫πp quy·∫øn r≈©. Xem ngay nh·ªØng h√¨nh ·∫£nh ƒë·∫πp nh·∫•t c·ªßa ${topic}.`,
        'actress': `${topic} - Th√¥ng tin ti·ªÉu s·ª≠ v√† s·ª± nghi·ªáp c·ªßa n·ªØ di·ªÖn vi√™n t√†i nƒÉng ${topic}. Nh·ªØng vai di·ªÖn ·∫•n t∆∞·ª£ng nh·∫•t.`,
        'singer': `${topic} - Ca sƒ© t√†i nƒÉng v·ªõi nh·ªØng ca kh√∫c hit. T√¨m hi·ªÉu v·ªÅ cu·ªôc ƒë·ªùi v√† s·ª± nghi·ªáp c·ªßa ${topic}.`,
        'beauty-photos': `B·ªô s∆∞u t·∫≠p ·∫£nh ${topic} ƒë·∫πp nh·∫•t. Nh·ªØng h√¨nh ·∫£nh quy·∫øn r≈© v√† ·∫•n t∆∞·ª£ng nh·∫•t ƒë∆∞·ª£c tuy·ªÉn ch·ªçn.`,
        'general': `${topic} - Th√¥ng tin chi ti·∫øt v√† h·ªØu √≠ch nh·∫•t. H∆∞·ªõng d·∫´n ƒë·∫ßy ƒë·ªß v·ªÅ ${topic}.`
      };

      const description = descriptions[type] || descriptions['general'];

      return `<!-- SEO Meta Tags -->
<meta name="description" content="${description}">
<meta name="keywords" content="${allKeywords}">
<meta name="author" content="Blog Admin">
<meta name="robots" content="index, follow">

<!-- Open Graph Tags -->
<meta property="og:title" content="${topic}">
<meta property="og:description" content="${description}">
<meta property="og:type" content="article">
<meta property="og:url" content="https://yourblog.com/${removeVietnamese(topic)}">
<meta property="og:image" content="https://your-image-host.com/featured-image.jpg">
<meta property="og:site_name" content="Your Blog Name">

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="${topic}">
<meta name="twitter:description" content="${description}">
<meta name="twitter:image" content="https://your-image-host.com/featured-image.jpg">

<!-- Additional SEO Tags -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="canonical" href="https://yourblog.com/${removeVietnamese(topic)}">

<!-- Schema.org Markup -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "${topic}",
  "description": "${description}",
  "author": {
    "@type": "Person",
    "name": "Blog Admin"
  },
  "datePublished": "${new Date().toISOString()}",
  "dateModified": "${new Date().toISOString()}",
  "image": "https://your-image-host.com/featured-image.jpg",
  "publisher": {
    "@type": "Organization",
    "name": "Your Blog Name",
    "logo": {
      "@type": "ImageObject",
      "url": "https://yourblog.com/logo.png"
    }
  }
}
</script>`;
    }

    // C·∫≠p nh·∫≠t preview
    function updatePreview() {
      const content = document.getElementById("aiOutput").value;
      const previewContent = document.getElementById("previewContent");
      
      if (!content) {
        previewContent.innerHTML = '<p style="color: #666; font-style: italic;">B√†i vi·∫øt s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y sau khi t·∫°o n·ªôi dung...</p>';
        return;
      }

      let htmlContent = content
        .replace(/^# (.*$)/gm, '<h1>$1</h1>')
        .replace(/^## (.*$)/gm, '<h2>$1</h2>')
        .replace(/^### (.*$)/gm, '<h3>$1</h3>')
        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
        .replace(/\*(.*?)\*/g, '<em>$1</em>')
        .replace(/^- (.*$)/gm, '<li>$1</li>')
        .replace(/^(\d+)\. (.*$)/gm, '<li>$1. $2</li>')
        .replace(/\n\n/g, '</p><p>')
        .replace(/^(?!<h|<li|<img)(.+)$/gm, '<p>$1</p>')
        .replace(/<p><\/p>/g, '')
        .replace(/(<li>.*<\/li>)/gs, '<ul>$1</ul>')
        .replace(/<\/ul>\s*<ul>/g, '');

      previewContent.innerHTML = htmlContent;
    }

    // Chuy·ªÉn ƒë·ªïi tab
    function showTab(tabName) {
      const tabContents = document.querySelectorAll('.tab-content');
      tabContents.forEach(content => content.classList.remove('active'));
      
      const tabs = document.querySelectorAll('.tab');
      tabs.forEach(tab => tab.classList.remove('active'));
      
      document.getElementById(tabName + '-tab').classList.add('active');
      event.target.classList.add('active');

      if (tabName === 'preview') {
        updatePreview();
      }
    }

    // Copy to clipboard
    function copyToClipboard(elementId) {
      const element = document.getElementById(elementId);
      element.select();
      document.execCommand('copy');
      
      const successElement = document.getElementById(elementId.replace('Output', 'CopySuccess'));
      if (successElement) {
        successElement.classList.add('show');
        setTimeout(() => {
          successElement.classList.remove('show');
        }, 2000);
      }
    }

    // T·ª± ƒë·ªông c·∫≠p nh·∫≠t preview khi n·ªôi dung thay ƒë·ªïi
    document.getElementById('aiOutput').addEventListener('input', updatePreview);

    // Kh·ªüi t·∫°o content type m·∫∑c ƒë·ªãnh
    document.addEventListener('DOMContentLoaded', function() {
      selectContentType('general');
    });
  </script>
</body>
</html>
