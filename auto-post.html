<script>
    let selectedStyle = 'hot girl';
    let selectedContentLength = 'medium';
    
    // Custom Select functionality
    document.addEventListener('DOMContentLoaded', function() {
      initializeCustomSelects();
    });
    
    function initializeCustomSelects() {
      const selects = document.querySelectorAll('.custom-select');
      
      selects.forEach(select => {
        const selectSelected = select.querySelector('.select-selected');
        const selectItems = select.querySelector('.select-items');
        const selectOptions = selectItems.querySelectorAll('div');
        
        selectSelected.addEventListener('click', function() {
          selectItems.classList.toggle('select-hide');
          selectSelected.classList.toggle('select-arrow-active');
        });
        
        selectOptions.forEach(option => {
          option.addEventListener('click', function() {
            const value = this.getAttribute('data-value');
            const text = this.textContent;
            
            selectSelected.querySelector('span').textContent = text;
            
            if (select.id === 'contentLengthSelect') {
              selectedContentLength = value;
            } else {
              selectedStyle = value;
            }
            
            selectOptions.forEach(opt => opt.classList.remove('same-as-selected'));
            this.classList.add('same-as-selected');
            
            selectItems.classList.add('select-hide');
            selectSelected.classList.remove('select-arrow-active');
          });
        });
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', function(e) {
        if (!e.target.closest('.custom-select')) {
          document.querySelectorAll('.select-items').forEach(items => {
            items.classList.add('select-hide');
          });
          document.querySelectorAll('.select-selected').forEach(selected => {
            selected.classList.remove('select-arrow-active');
          });
        }
      });
    }

    document.getElementById('uploadInput').addEventListener('change', handleUpload);

    function showStatus(message, type = 'success') {
      const status = document.getElementById('status');
      status.textContent = message;
      status.className = `status ${type}`;
      status.style.display = 'block';
      
      setTimeout(() => {
        status.style.display = 'none';
      }, 3000);
    }

    function validateImage(file) {
      const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];
      const maxSize = 5 * 1024 * 1024; // 5MB
      
      if (!allowedTypes.includes(file.type)) {
        throw new Error('Ch·ªâ h·ªó tr·ª£ file ·∫£nh: JPG, PNG, GIF, WebP');
      }
      if (file.size > maxSize) {
        throw new Error('File qu√° l·ªõn (t·ªëi ƒëa 5MB)');
      }
    }

    async function handleUpload(event) {
      const files = Array.from(event.target.files);
      
      try {
        showStatus('ƒêang x·ª≠ l√Ω ·∫£nh...', 'success');
        
        const dataURLs = await Promise.all(files.map(file => {
          validateImage(file);
          return new Promise(resolve => {
            const reader = new FileReader();
            reader.onload = e => resolve(e.target.result);
            reader.readAsDataURL(file);
          });
        }));

        const textarea = document.getElementById("imageLinks");
        textarea.value += dataURLs.join("\n") + "\n";
        
        showStatus(`‚úÖ ƒê√£ t·∫£i l√™n ${files.length} ·∫£nh th√†nh c√¥ng!`, 'success');
      } catch (error) {
        showStatus('‚ùå ' + error.message, 'error');
      }
    }

    function generateSEOContent(style, targetKeyword, customKeywords, contentLength) {
      const currentYear = new Date().getFullYear();
      const randomAdjs = ["r·ª±c r·ª°", "·∫•n t∆∞·ª£ng", "tinh kh√¥i", "quy·∫øn r≈©", "b√πng n·ªï", "xu·∫•t s·∫Øc", "tuy·ªát ƒë·∫πp", "n·ªïi b·∫≠t", "thu h√∫t", "cu·ªën h√∫t"];
      const adj = randomAdjs[Math.floor(Math.random() * randomAdjs.length)];
      
      const focusKeyword = targetKeyword || `g√°i xinh ${style}`;
      const keywords = customKeywords ? customKeywords.split(',').map(k => k.trim()) : [];
      
      const baseKeywords = ["g√°i xinh", "hot girl", style, "·∫£nh ƒë·∫πp", "g√°i ƒë·∫πp", `photoshoot ${style}`, `trending ${currentYear}`, "gallery"];
      const allKeywords = [...baseKeywords, ...keywords].filter(k => k);
      
      const title = `${focusKeyword} ${adj} nh·∫•t ${currentYear} - B·ªô s∆∞u t·∫≠p ƒë·ªôc quy·ªÅn`;
      
      let content = {
        title,
        metaDescription: `Kh√°m ph√° b·ªô s∆∞u t·∫≠p ${focusKeyword} ${adj} nh·∫•t ${currentYear}. ${contentLength === 'short' ? 'Nh·ªØng h√¨nh ·∫£nh tuy·ªÉn ch·ªçn ƒë·∫∑c bi·ªát.' : contentLength === 'medium' ? 'B·ªô ·∫£nh ch·∫•t l∆∞·ª£ng cao v·ªõi phong c√°ch ƒë·ªôc ƒë√°o, th·∫ßn th√°i n·ªïi b·∫≠t.' : 'B·ªô s∆∞u t·∫≠p ·∫£nh chuy√™n nghi·ªáp v·ªõi nhi·ªÅu g√≥c ƒë·ªô, phong c√°ch ƒëa d·∫°ng v√† ch·∫•t l∆∞·ªùng h√¨nh ·∫£nh tuy·ªát v·ªùi.'}`,
        introduction: '',
        sections: [],
        keywords: allKeywords
      };
      
      // Generate content based on length
      switch(contentLength) {
        case 'short':
          content.introduction = `B·ªô s∆∞u t·∫≠p ${focusKeyword} n√†y mang ƒë·∫øn nh·ªØng kho·∫£nh kh·∫Øc ${adj} nh·∫•t trong nƒÉm ${currentYear}. M·ªói b·ª©c ·∫£nh ƒë·ªÅu ƒë∆∞·ª£c tuy·ªÉn ch·ªçn k·ªπ l∆∞·ª°ng ƒë·ªÉ mang l·∫°i tr·∫£i nghi·ªám th·ªã gi√°c tuy·ªát v·ªùi.`;
          content.sections = [
            { heading: `ƒêi·ªÉm n·ªïi b·∫≠t c·ªßa b·ªô ·∫£nh ${style}`, content: `Phong c√°ch ${style} lu√¥n ƒë∆∞·ª£c y√™u th√≠ch b·ªüi s·ª± ${adj} v√† t·ª± nhi√™n. Nh·ªØng b·ª©c ·∫£nh n√†y th·ªÉ hi·ªán r√µ c√° t√≠nh v√† th·∫ßn th√°i ri√™ng bi·ªát.` }
          ];
          break;
          
        case 'medium':
          content.introduction = `Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi b·ªô s∆∞u t·∫≠p ${focusKeyword} ${adj} nh·∫•t nƒÉm ${currentYear}! ƒê√¢y l√† tuy·ªÉn t·∫≠p nh·ªØng h√¨nh ·∫£nh ƒë∆∞·ª£c ch·ªçn l·ªçc k·ªπ c√†ng, th·ªÉ hi·ªán v·∫ª ƒë·∫πp t·ª± nhi√™n v√† phong c√°ch ${style} ƒë·∫ßy cu·ªën h√∫t.`;
          content.sections = [
            { 
              heading: `V·∫ª ƒë·∫πp ${style} qua t·ª´ng khung h√¨nh`, 
              content: `M·ªói b·ª©c ·∫£nh trong b·ªô s∆∞u t·∫≠p n√†y ƒë·ªÅu mang m·ªôt c√¢u chuy·ªán ri√™ng. Phong c√°ch ${style} ƒë∆∞·ª£c th·ªÉ hi·ªán m·ªôt c√°ch tinh t·∫ø, t·∫°o n√™n nh·ªØng kho·∫£nh kh·∫Øc ${adj} kh√≥ qu√™n. T·ª´ √°nh m·∫Øt ƒë·∫øn n·ª• c∆∞·ªùi, m·ªçi chi ti·∫øt ƒë·ªÅu ƒë∆∞·ª£c chƒÉm ch√∫t t·ªâ m·ªâ.` 
            },
            { 
              heading: `Phong c√°ch ch·ª•p ·∫£nh chuy√™n nghi·ªáp`, 
              content: `Nh·ªØng b·ª©c ·∫£nh ƒë∆∞·ª£c th·ª±c hi·ªán v·ªõi k·ªπ thu·∫≠t ch·ª•p chuy√™n nghi·ªáp, √°nh s√°ng t·ª± nhi√™n v√† g√≥c m√°y ƒëa d·∫°ng. ƒêi·ªÅu n√†y t·∫°o n√™n s·ª± sinh ƒë·ªông v√† ch√¢n th·ª±c trong t·ª´ng khung h√¨nh.` 
            }
          ];
          break;
          
        case 'long':
          content.introduction = `Kh√°m ph√° ngay b·ªô s∆∞u t·∫≠p ${focusKeyword} ${adj} nh·∫•t trong nƒÉm ${currentYear}! ƒê√¢y kh√¥ng ch·ªâ l√† m·ªôt tuy·ªÉn t·∫≠p ·∫£nh th√¥ng th∆∞·ªùng, m√† c√≤n l√† h√†nh tr√¨nh kh√°m ph√° v·∫ª ƒë·∫πp ${style} qua lƒÉng k√≠nh ngh·ªá thu·∫≠t. M·ªói b·ª©c h√¨nh ƒë·ªÅu k·ªÉ m·ªôt c√¢u chuy·ªán ri√™ng, th·ªÉ hi·ªán c√° t√≠nh v√† phong c√°ch ƒë·ªôc ƒë√°o.`;
          content.sections = [
            { 
              heading: `Ngh·ªá thu·∫≠t ch·ª•p ·∫£nh ${style} hi·ªán ƒë·∫°i`, 
              content: `Phong c√°ch ${style} trong nhi·∫øp ·∫£nh hi·ªán ƒë·∫°i ƒë√£ tr·ªü th√†nh m·ªôt xu h∆∞·ªõng ƒë∆∞·ª£c y√™u th√≠ch. Kh√¥ng ch·ªâ ƒë∆°n thu·∫ßn l√† vi·ªác ghi l·∫°i h√¨nh ·∫£nh, m√† c√≤n l√† c√°ch th·ªÉ hi·ªán c·∫£m x√∫c v√† c√° t√≠nh qua t·ª´ng khung h√¨nh. B·ªô s∆∞u t·∫≠p n√†y th·ªÉ hi·ªán r√µ s·ª± tinh t·∫ø trong vi·ªác s·ª≠ d·ª•ng √°nh s√°ng, m√†u s·∫Øc v√† g√≥c ch·ª•p.` 
            },
            { 
              heading: `ƒê·∫∑c ƒëi·ªÉm n·ªïi b·∫≠t c·ªßa phong c√°ch ${style}`, 
              content: `Phong c√°ch ${style} ƒë∆∞·ª£c ƒë·∫∑c tr∆∞ng b·ªüi s·ª± t·ª± nhi√™n, ch√¢n th·ª±c v√† ƒë·∫ßy c·∫£m x√∫c. Nh·ªØng ƒë∆∞·ªùng n√©t m·ªÅm m·∫°i, √°nh m·∫Øt bi·ªÉu c·∫£m v√† n·ª• c∆∞·ªùi t·ªèa s√°ng t·∫°o n√™n s·ª©c h√∫t ƒë·∫∑c bi·ªát. M√†u s·∫Øc ƒë∆∞·ª£c s·ª≠ d·ª•ng h√†i h√≤a, t·∫°o c·∫£m gi√°c ·∫•m √°p v√† g·∫ßn g≈©i.` 
            },
            { 
              heading: `K·ªπ thu·∫≠t v√† thi·∫øt b·ªã ch·ª•p chuy√™n nghi·ªáp`, 
              content: `ƒê·ªÉ c√≥ ƒë∆∞·ª£c nh·ªØng b·ª©c ·∫£nh ch·∫•t l∆∞·ª£ng nh∆∞ v·∫≠y, vi·ªác s·ª≠ d·ª•ng thi·∫øt b·ªã chuy√™n nghi·ªáp v√† k·ªπ thu·∫≠t ch·ª•p tinh t·∫ø l√† v√¥ c√πng quan tr·ªçng. T·ª´ vi·ªác ch·ªçn ·ªëng k√≠nh ph√π h·ª£p ƒë·∫øn c√°ch s·ª≠ d·ª•ng √°nh s√°ng t·ª± nhi√™n, m·ªçi y·∫øu t·ªë ƒë·ªÅu ƒë∆∞·ª£c t√≠nh to√°n k·ªπ l∆∞·ª°ng.` 
            }
          ];
          break;
          
        case 'detailed':
          content.introduction = `Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi b·ªô s∆∞u t·∫≠p ${focusKeyword} ƒë·ªânh cao nh·∫•t nƒÉm ${currentYear}! ƒê√¢y l√† th√†nh qu·∫£ c·ªßa qu√° tr√¨nh tuy·ªÉn ch·ªçn v√† s√°ng t·∫°o nghi√™m t√∫c, mang ƒë·∫øn cho b·∫°n nh·ªØng tr·∫£i nghi·ªám th·ªã gi√°c tuy·ªát v·ªùi nh·∫•t. Phong c√°ch ${style} kh√¥ng ch·ªâ l√† m·ªôt xu h∆∞·ªõng, m√† c√≤n l√† ngh·ªá thu·∫≠t th·ªÉ hi·ªán v·∫ª ƒë·∫πp t·ª± nhi√™n v√† c√° t√≠nh ri√™ng bi·ªát.`;
          content.sections = [
            { 
              heading: `L·ªãch s·ª≠ v√† xu h∆∞·ªõng c·ªßa phong c√°ch ${style}`, 
              content: `Phong c√°ch ${style} ƒë√£ tr·∫£i qua nhi·ªÅu giai ƒëo·∫°n ph√°t tri·ªÉn v√† ng√†y c√†ng ƒë∆∞·ª£c ho√†n thi·ªán. T·ª´ nh·ªØng nƒÉm ƒë·∫ßu v·ªõi c√°ch ti·∫øp c·∫≠n ƒë∆°n gi·∫£n, ƒë·∫øn nay ƒë√£ tr·ªü th√†nh m·ªôt ngh·ªá thu·∫≠t tinh t·∫ø v·ªõi nhi·ªÅu bi·∫øn th·ªÉ phong ph√∫. Xu h∆∞·ªõng hi·ªán t·∫°i t·∫≠p trung v√†o s·ª± t·ª± nhi√™n, ch√¢n th·ª±c v√† th·ªÉ hi·ªán c√° t√≠nh m·∫°nh m·∫Ω.` 
            },
            { 
              heading: `Ph√¢n t√≠ch chi ti·∫øt v·ªÅ v·∫ª ƒë·∫πp ${style}`, 
              content: `V·∫ª ƒë·∫πp ${style} kh√¥ng ch·ªâ n·∫±m ·ªü b·ªÅ ngo√†i m√† c√≤n th·ªÉ hi·ªán qua th·∫ßn th√°i, c·ª≠ ch·ªâ v√† c√°ch bi·ªÉu ƒë·∫°t c·∫£m x√∫c. Nh·ªØng ƒë·∫∑c ƒëi·ªÉm nh∆∞ √°nh m·∫Øt s√¢u th·∫≥m, n·ª• c∆∞·ªùi t·ª± nhi√™n, v√† c√°ch t·∫°o d√°ng tinh t·∫ø ƒë·ªÅu g√≥p ph·∫ßn t·∫°o n√™n s·ª©c h√∫t ƒë·∫∑c bi·ªát. M√†u s·∫Øc trang ph·ª•c v√† ph·ª• ki·ªán c≈©ng ƒë∆∞·ª£c l·ª±a ch·ªçn c·∫©n th·∫≠n ƒë·ªÉ h√†i h√≤a v·ªõi t·ªïng th·ªÉ.` 
            },
            { 
              heading: `K·ªπ thu·∫≠t nhi·∫øp ·∫£nh chuy√™n nghi·ªáp`, 
              content: `ƒê·ªÉ t·∫°o ra nh·ªØng b·ª©c ·∫£nh ch·∫•t l∆∞·ª£ng cao, vi·ªác √°p d·ª•ng c√°c k·ªπ thu·∫≠t nhi·∫øp ·∫£nh chuy√™n nghi·ªáp l√† kh√¥ng th·ªÉ thi·∫øu. T·ª´ vi·ªác s·ª≠ d·ª•ng √°nh s√°ng t·ª± nhi√™n m·ªôt c√°ch kh√©o l√©o, ƒë·∫øn c√°ch ch·ªçn g√≥c ch·ª•p ph√π h·ª£p v√† x·ª≠ l√Ω h·∫≠u k·ª≥ tinh t·∫ø. M·ªói b·ª©c ·∫£nh ƒë·ªÅu tr·∫£i qua qu√° tr√¨nh ch·ªânh s·ª≠a c·∫©n th·∫≠n ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c m√†u s·∫Øc v√† ƒë·ªô s·∫Øc n√©t ho√†n h·∫£o.` 
            },
            { 
              heading: `√ù nghƒ©a vƒÉn h√≥a v√† x√£ h·ªôi`, 
              content: `Phong c√°ch ${style} kh√¥ng ch·ªâ l√† xu h∆∞·ªõng th·∫©m m·ªπ m√† c√≤n ph·∫£n √°nh nh·ªØng gi√° tr·ªã vƒÉn h√≥a v√† x√£ h·ªôi hi·ªán ƒë·∫°i. N√≥ th·ªÉ hi·ªán s·ª± t·ª± tin, ƒë·ªôc l·∫≠p v√† c√°ch nh√¨n t√≠ch c·ª±c v·ªÅ v·∫ª ƒë·∫πp t·ª± nhi√™n. ƒêi·ªÅu n√†y g√≥p ph·∫ßn thay ƒë·ªïi chu·∫©n m·ª±c v·ªÅ c√°i ƒë·∫πp v√† khuy·∫øn kh√≠ch m·ªçi ng∆∞·ªùi t·ª± tin th·ªÉ hi·ªán b·∫£n th√¢n.` 
            },
            { 
              heading: `T∆∞∆°ng lai c·ªßa xu h∆∞·ªõng ${style}`, 
              content: `V·ªõi s·ª± ph√°t tri·ªÉn kh√¥ng ng·ª´ng c·ªßa c√¥ng ngh·ªá v√† thay ƒë·ªïi trong s·ªü th√≠ch th·∫©m m·ªπ, phong c√°ch ${style} s·∫Ω ti·∫øp t·ª•c evolve v√† mang ƒë·∫øn nh·ªØng ƒëi·ªÅu m·ªõi m·∫ª. Xu h∆∞·ªõng t∆∞∆°ng lai c√≥ th·ªÉ s·∫Ω t·∫≠p trung nhi·ªÅu h∆°n v√†o t√≠nh b·ªÅn v·ªØng, s·ª± ƒëa d·∫°ng v√† vi·ªác th·ªÉ hi·ªán c√° t√≠nh ƒë·ªôc ƒë√°o c·ªßa t·ª´ng c√° nh√¢n.` 
            }
          ];
          break;
      }
      
      return content;
    }

    function generateCaption(index, style, targetKeyword) {
      const keyword = targetKeyword || style;
      const ideas = [
        `V·∫ª ƒë·∫πp ${keyword} cu·ªën h√∫t √°nh nh√¨n`,
        `${keyword} ng·ªçt ng√†o khi·∫øn ai c≈©ng m√™`,
        `G√≥c nghi√™ng th·∫ßn th√°nh c·ªßa c√¥ n√†ng ${style}`,
        `Phong c√°ch ${keyword} t·ª± nhi√™n ƒë·∫ßy c√° t√≠nh`,
        `√Ånh m·∫Øt ${style} khi·∫øn b·∫°n kh√¥ng th·ªÉ r·ªùi m·∫Øt`,
        `N·ª• c∆∞·ªùi ${keyword} t·ªèa s√°ng r·ª±c r·ª°`,
        `D√°ng v·∫ª ${style} thu h√∫t m·ªçi √°nh nh√¨n`,
        `Th·∫ßn th√°i ${keyword} ƒë·∫ßy quy·∫øn r≈©`,
        `Phong c√°ch ${style} hi·ªán ƒë·∫°i v√† tinh t·∫ø`,
        `Kho·∫£nh kh·∫Øc ${keyword} ƒë√°ng nh·ªõ`
      ];
      return ideas[index % ideas.length];
    }

    function generatePost() {
      try {
        const links = document.getElementById("imageLinks").value.trim().split(/\n+/).filter(link => link);
        
        if (links.length === 0) {
          showStatus('‚ùå Vui l√≤ng th√™m √≠t nh·∫•t m·ªôt ·∫£nh!', 'error');
          return;
        }

        const style = selectedStyle;
        const targetKeyword = document.getElementById("targetKeyword").value.trim();
        const customKeywords = document.getElementById("customKeywords").value.trim();
        const contentLength = selectedContentLength;
        
        // Get SEO options
        const includeMetaTags = document.getElementById("includeMetaTags").checked;
        const includeHeadings = document.getElementById("includeHeadings").checked;
        const includeAltText = document.getElementById("includeAltText").checked;
        const includeSchema = document.getElementById("includeSchema").checked;
        const includeSocialMeta = document.getElementById("includeSocialMeta").checked;

        const seoContent = generateSEOContent(style, targetKeyword, customKeywords, contentLength);
        
        let html = '';
        
        // Add Meta Tags
        if (includeMetaTags) {
          html += `<!-- SEO Meta Tags -->\n`;
          html += `<meta name="description" content="${seoContent.metaDescription}" />\n`;
          html += `<meta name="keywords" content="${seoContent.keywords.join(', ')}" />\n`;
          html += `<meta name="robots" content="index, follow" />\n`;
          html += `<link rel="canonical" href="${window.location.href}" />\n\n`;
        }
        
        // Add Open Graph Tags
        if (includeSocialMeta) {
          html += `<!-- Open Graph Meta Tags -->\n`;
          html += `<meta property="og:title" content="${seoContent.title}" />\n`;
          html += `<meta property="og:description" content="${seoContent.metaDescription}" />\n`;
          html += `<meta property="og:type" content="article" />\n`;
          html += `<meta property="og:url" content="${window.location.href}" />\n`;
          if (links.length > 0) {
            html += `<meta property="og:image" content="${links[0].trim()}" />\n`;
          }
          html += `<meta name="twitter:card" content="summary_large_image" />\n`;
          html += `<meta name="twitter:title" content="${seoContent.title}" />\n`;
          html += `<meta name="twitter:description" content="${seoContent.metaDescription}" />\n\n`;
        }
        
        // Add main content
        html += `<article>\n`;
        html += `  <header>\n`;
        html += `    <h1>${seoContent.title}</h1>\n`;
        html += `    <p class="intro">${seoContent.introduction}</p>\n`;
        html += `  </header>\n\n`;
        
        // Add content sections
        if (includeHeadings && seoContent.sections.length > 0) {
          seoContent.sections.forEach((section, index) => {
            html += `  <section>\n`;
            html += `    <h${index < 2 ? '2' : '3'}>${section.heading}</h${index < 2 ? '2' : '3'}>\n`;
            html += `    <p>${section.content}</p>\n`;
            html += `  </section>\n\n`;
          });
        }
        
        // Add tags
        html += `  <div class="tags" style="margin: 20px 0;">\n`;
        seoContent.keywords.forEach(tag => { 
          html += `    <span class="tag" style="display: inline-block; background: #e91e63; color: white; padding: 5px 10px; margin: 2px; border-radius: 15px; font-size: 12px;">#${tag}</span>\n`; 
        });
        html += `  </div>\n\n`;
        
        // Add image gallery
        html += `  <div class="gallery" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 30px 0;">\n`;

        let preview = "";
        let validLinks = [];
        
        links.forEach((link, index) => {
          const trimmedLink = link.trim();
          if (trimmedLink.includes("lh3.googleusercontent.com") || trimmedLink.startsWith("data:image") || trimmedLink.match(/\.(jpg|jpeg|png|gif|webp)$/i)) {
            const caption = generateCaption(index, style, targetKeyword);
            const altText = includeAltText ? `${caption} - ${seoContent.keywords.slice(0,3).join(', ')}` : caption;
            
            html += `    <figure style="margin: 0;">\n`;
            html += `      <img src="${trimmedLink}" alt="${altText}" loading="lazy" style="width: 100%; height: 300px; object-fit: cover; border-radius: 8px;" />\n`;
            html += `      <figcaption style="text-align: center; margin-top: 8px; font-style: italic; color: #666;">${caption}</figcaption>\n`;
            html += `    </figure>\n`;
            
            preview += `<img src="${trimmedLink}" alt="${altText}" />\n`;
            validLinks.push(trimmedLink);
          }
        });
        
        html += `  </div>\n`;
        html += `</article>\n\n`;

        // Add Schema Markup
        if (includeSchema) {
          const schema = {
            "@context": "https://schema.org",
            "@type": "BlogPosting",
            "headline": seoContent.title,
            "description": seoContent.metaDescription,
            "image": validLinks,
            "author": {
              "@type": "Person",
              "name": "girlsxinh.net"
            },
            "publisher": {
              "@type": "Organization",
              "name": "girlsxinh.net",
              "logo": {
                "@type": "ImageObject",
                "url": "https://girlsxinh.net/logo.png"
              }
            },
            "datePublished": new Date().toISOString(),
            "dateModified": new Date().toISOString(),
            "keywords": seoContent.keywords.join(', '),
            "wordCount": seoContent.sections.reduce((acc, section) => acc + section.content.split(' ').length, 0),
            "articleSection": "Photography",
            "genre": "Lifestyle"
          };

          html += `<script type="application/ld+json">\n${JSON.stringify(schema, null, 2)}\n<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>T·∫°o b√†i vi·∫øt g√°i xinh - Tool SEO T·ª± ƒê·ªông</title>
  <meta name="description" content="T·∫°o b√†i vi·∫øt g√°i xinh chu·∫©n SEO t·ª´ ·∫£nh Google Photos, t·ª± ƒë·ªông sinh ti√™u ƒë·ªÅ, m√¥ t·∫£, th·∫ª heading, tags v√† schema cho Blogger." />
  <meta name="keywords" content="g√°i xinh, ·∫£nh hot girl, blogger, SEO, Google Photos, auto post tool" />
  <meta name="author" content="girlsxinh.net" />
  <style>
    * { box-sizing: border-box; }
    body { 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      margin: 0;
      padding: 20px; 
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 15px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    
    .header {
      background: linear-gradient(135deg, #e91e63, #f06292);
      color: white;
      padding: 30px;
      text-align: center;
    }
    
    .header h1 {
      margin: 0;
      font-size: 2.5em;
      font-weight: 300;
    }
    
    .header p {
      margin: 10px 0 0 0;
      opacity: 0.9;
      font-size: 1.1em;
    }
    
    .main-content {
      padding: 30px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
    }
    
    .input-section, .output-section {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 12px;
      border: 1px solid #e9ecef;
    }
    
    .input-section h3, .output-section h3 {
      margin-top: 0;
      color: #495057;
      font-size: 1.3em;
      border-bottom: 2px solid #e91e63;
      padding-bottom: 10px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #495057;
    }
    
    .file-upload {
      position: relative;
      display: inline-block;
      width: 100%;
    }
    
    .file-upload input[type=file] {
      position: absolute;
      left: -9999px;
    }
    
    .file-upload-btn {
      display: block;
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s ease;
      text-align: center;
    }
    
    .file-upload-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }
    
    textarea {
      width: 100%;
      padding: 15px;
      border: 2px solid #e9ecef;
      border-radius: 8px;
      font-size: 14px;
      font-family: inherit;
      resize: vertical;
      transition: border-color 0.3s ease;
    }
    
    textarea:focus {
      outline: none;
      border-color: #e91e63;
    }
    
    .custom-select {
      position: relative;
      width: 100%;
    }
    
    .select-selected {
      background: white;
      border: 2px solid #e9ecef;
      border-radius: 8px;
      padding: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .select-selected:hover {
      border-color: #e91e63;
    }
    
    .select-selected.select-arrow-active {
      border-color: #e91e63;
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
    
    .select-items {
      position: absolute;
      background: white;
      top: 100%;
      left: 0;
      right: 0;
      z-index: 99;
      border: 2px solid #e91e63;
      border-top: none;
      border-radius: 0 0 8px 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .select-items div {
      padding: 15px;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    
    .select-items div:hover {
      background: #f8f9fa;
    }
    
    .select-items div.same-as-selected {
      background: #e91e63;
      color: white;
    }
    
    .select-hide {
      display: none;
    }
    
    input[type="text"] {
      width: 100%;
      padding: 15px;
      border: 2px solid #e9ecef;
      border-radius: 8px;
      font-size: 14px;
      transition: border-color 0.3s ease;
    }
    
    input[type="text"]:focus {
      outline: none;
      border-color: #e91e63;
    }
    
    .checkbox-group {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 10px;
    }
    
    .checkbox-item {
      display: flex;
      align-items: center;
      cursor: pointer;
      padding: 8px;
      border-radius: 6px;
      transition: background 0.2s ease;
    }
    
    .checkbox-item:hover {
      background: rgba(233, 30, 99, 0.1);
    }
    
    .checkbox-item input[type="checkbox"] {
      position: absolute;
      opacity: 0;
      cursor: pointer;
      width: 0;
      height: 0;
    }
    
    .checkmark {
      position: relative;
      height: 20px;
      width: 20px;
      background: #eee;
      border-radius: 4px;
      margin-right: 10px;
      transition: all 0.2s ease;
    }
    
    .checkbox-item:hover input ~ .checkmark {
      background: #ccc;
    }
    
    .checkbox-item input:checked ~ .checkmark {
      background: #e91e63;
    }
    
    .checkmark:after {
      content: "";
      position: absolute;
      display: none;
      left: 7px;
      top: 3px;
      width: 5px;
      height: 10px;
      border: solid white;
      border-width: 0 3px 3px 0;
      transform: rotate(45deg);
    }
    
    .checkbox-item input:checked ~ .checkmark:after {
      display: block;
    }
    
    .arrow {
      width: 0;
      height: 0;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-top: 6px solid #666;
      transition: transform 0.3s ease;
    }
    
    .select-arrow-active .arrow {
      transform: rotate(180deg);
    }
    
    .generate-btn {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, #e91e63, #f06292);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 20px;
    }
    
    .generate-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.3);
    }
    
    .copy-btn {
      width: 100%;
      padding: 15px;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 15px;
    }
    
    .copy-btn:hover {
      background: #218838;
      transform: translateY(-1px);
    }
    
    #preview {
      margin-top: 20px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 15px;
    }
    
    #preview img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      transition: transform 0.2s ease;
    }
    
    #preview img:hover {
      transform: scale(1.05);
    }
    
    .note {
      font-size: 14px;
      color: #6c757d;
      background: #fff3cd;
      padding: 12px;
      border-radius: 6px;
      border-left: 4px solid #ffc107;
      margin-bottom: 20px;
    }
    
    .status {
      padding: 10px;
      border-radius: 6px;
      margin: 10px 0;
      display: none;
    }
    
    .status.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    
    .status.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    
    @media (max-width: 768px) {
      .main-content {
        grid-template-columns: 1fr;
        gap: 20px;
        padding: 20px;
      }
      
      .header h1 {
        font-size: 2em;
      }
      
      #preview {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üñº Auto Post G√°i Xinh Chu·∫©n SEO</h1>
      <p>C√¥ng c·ª• t·∫°o b√†i vi·∫øt t·ª± ƒë·ªông v·ªõi SEO t·ªëi ∆∞u</p>
    </div>
    
    <div class="main-content">
      <div class="input-section">
        <h3>üìù Th√¥ng tin ƒë·∫ßu v√†o</h3>
        
        <div class="note">
          D√°n link ·∫£nh Google Photos d·∫°ng <code>https://lh3.googleusercontent.com/...</code>, m·ªói ·∫£nh 1 d√≤ng. Ho·∫∑c ch·ªçn ·∫£nh t·ª´ m√°y t√≠nh.
        </div>
        
        <div class="form-group">
          <label for="uploadInput">üìÅ Ch·ªçn ·∫£nh t·ª´ m√°y:</label>
          <div class="file-upload">
            <input type="file" id="uploadInput" multiple accept="image/*" />
            <label for="uploadInput" class="file-upload-btn">
              üîç Ch·ªçn ·∫£nh (c√≥ th·ªÉ ch·ªçn nhi·ªÅu)
            </label>
          </div>
        </div>
        
        <div class="form-group">
          <label for="imageLinks">üîó Ho·∫∑c d√°n link ·∫£nh:</label>
          <textarea id="imageLinks" rows="6" placeholder="D√°n link ·∫£nh t·∫°i ƒë√¢y, m·ªói link m·ªôt d√≤ng..."></textarea>
        </div>
        
        <div class="form-group">
          <label>üé® Ch·ªçn phong c√°ch:</label>
          <div class="custom-select">
            <div class="select-selected">
              <span>Hot girl</span>
              <div class="arrow"></div>
            </div>
            <div class="select-items select-hide">
              <div data-value="hot girl">üî• Hot girl</div>
              <div data-value="d·ªÖ th∆∞∆°ng">üòä D·ªÖ th∆∞∆°ng</div>
              <div data-value="h·ªçc sinh">üìö H·ªçc sinh</div>
              <div data-value="H√†n Qu·ªëc">üá∞üá∑ H√†n Qu·ªëc</div>
              <div data-value="g·ª£i c·∫£m">üíã G·ª£i c·∫£m</div>
              <div data-value="trong s√°ng">‚ú® Trong s√°ng</div>
              <div data-value="c√° t√≠nh">‚ö° C√° t√≠nh</div>
            </div>
          </div>
        </div>
        
        <button class="generate-btn" onclick="generatePost()">
          ‚ú® T·∫°o b√†i vi·∫øt t·ª± ƒë·ªông
        </button>
        
        <div id="status" class="status"></div>
      </div>
      
      <div class="output-section">
        <h3>üëÄ Xem tr∆∞·ªõc k·∫øt qu·∫£</h3>
        <div id="preview"></div>
        
        <h3 style="margin-top: 30px;">üìã HTML b√†i vi·∫øt</h3>
        <textarea id="outputHTML" rows="15" placeholder="HTML s·∫Ω xu·∫•t hi·ªán ·ªü ƒë√¢y sau khi t·∫°o..."></textarea>
        <button class="copy-btn" onclick="copyToClipboard()">
          üìã Sao ch√©p HTML
        </button>
      </div>
    </div>
  </div>

  <script>
    let selectedStyle = 'hot girl';
    
    // Custom Select functionality
    document.addEventListener('DOMContentLoaded', function() {
      const selectSelected = document.querySelector('.select-selected');
      const selectItems = document.querySelector('.select-items');
      const selectOptions = selectItems.querySelectorAll('div');
      
      selectSelected.addEventListener('click', function() {
        selectItems.classList.toggle('select-hide');
        selectSelected.classList.toggle('select-arrow-active');
      });
      
      selectOptions.forEach(option => {
        option.addEventListener('click', function() {
          const value = this.getAttribute('data-value');
          const text = this.textContent;
          
          selectSelected.querySelector('span').textContent = text;
          selectedStyle = value;
          
          selectOptions.forEach(opt => opt.classList.remove('same-as-selected'));
          this.classList.add('same-as-selected');
          
          selectItems.classList.add('select-hide');
          selectSelected.classList.remove('select-arrow-active');
        });
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', function(e) {
        if (!e.target.closest('.custom-select')) {
          selectItems.classList.add('select-hide');
          selectSelected.classList.remove('select-arrow-active');
        }
      });
    });

    document.getElementById('uploadInput').addEventListener('change', handleUpload);

    function showStatus(message, type = 'success') {
      const status = document.getElementById('status');
      status.textContent = message;
      status.className = `status ${type}`;
      status.style.display = 'block';
      
      setTimeout(() => {
        status.style.display = 'none';
      }, 3000);
    }

    function validateImage(file) {
      const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];
      const maxSize = 5 * 1024 * 1024; // 5MB
      
      if (!allowedTypes.includes(file.type)) {
        throw new Error('Ch·ªâ h·ªó tr·ª£ file ·∫£nh: JPG, PNG, GIF, WebP');
      }
      if (file.size > maxSize) {
        throw new Error('File qu√° l·ªõn (t·ªëi ƒëa 5MB)');
      }
    }

    async function handleUpload(event) {
      const files = Array.from(event.target.files);
      
      try {
        showStatus('ƒêang x·ª≠ l√Ω ·∫£nh...', 'success');
        
        const dataURLs = await Promise.all(files.map(file => {
          validateImage(file);
          return new Promise(resolve => {
            const reader = new FileReader();
            reader.onload = e => resolve(e.target.result);
            reader.readAsDataURL(file);
          });
        }));

        const textarea = document.getElementById("imageLinks");
        textarea.value += dataURLs.join("\n") + "\n";
        
        showStatus(`‚úÖ ƒê√£ t·∫£i l√™n ${files.length} ·∫£nh th√†nh c√¥ng!`, 'success');
      } catch (error) {
        showStatus('‚ùå ' + error.message, 'error');
      }
    }

    function generateCaption(index, style) {
      const ideas = [
        `V·∫ª ƒë·∫πp ${style} cu·ªën h√∫t √°nh nh√¨n`,
        `${style} ng·ªçt ng√†o khi·∫øn ai c≈©ng m√™`,
        `G√≥c nghi√™ng th·∫ßn th√°nh c·ªßa c√¥ n√†ng ${style}`,
        `Phong c√°ch ${style} t·ª± nhi√™n ƒë·∫ßy c√° t√≠nh`,
        `√Ånh m·∫Øt ${style} khi·∫øn b·∫°n kh√¥ng th·ªÉ r·ªùi m·∫Øt`,
        `N·ª• c∆∞·ªùi ${style} t·ªèa s√°ng r·ª±c r·ª°`,
        `D√°ng v·∫ª ${style} thu h√∫t m·ªçi √°nh nh√¨n`,
        `Th·∫ßn th√°i ${style} ƒë·∫ßy quy·∫øn r≈©`
      ];
      return ideas[index % ideas.length];
    }

    function generatePost() {
      try {
        const links = document.getElementById("imageLinks").value.trim().split(/\n+/).filter(link => link);
        
        if (links.length === 0) {
          showStatus('‚ùå Vui l√≤ng th√™m √≠t nh·∫•t m·ªôt ·∫£nh!', 'error');
          return;
        }

        const style = selectedStyle;
        const year = new Date().getFullYear();
        const randomAdjs = ["r·ª±c r·ª°", "·∫•n t∆∞·ª£ng", "tinh kh√¥i", "quy·∫øn r≈©", "b√πng n·ªï", "xu·∫•t s·∫Øc", "tuy·ªát ƒë·∫πp"];
        const adj = randomAdjs[Math.floor(Math.random() * randomAdjs.length)];

        const title = `B·ªô ·∫£nh g√°i xinh ${style} ${adj} nh·∫•t ${year}`;
        const description = `Kh√°m ph√° ngay b·ªô ·∫£nh g√°i xinh theo phong c√°ch ${style} c·ª±c k·ª≥ ${adj} ƒë∆∞·ª£c y√™u th√≠ch trong nƒÉm ${year}. M·ªói b·ª©c h√¨nh mang ƒë·∫≠m d·∫•u ·∫•n c√° nh√¢n v√† th·∫ßn th√°i n·ªïi b·∫≠t, ch·∫Øc ch·∫Øn khi·∫øn b·∫°n m√™ m·∫©n. B·ªô s∆∞u t·∫≠p n√†y l√† l·ª±a ch·ªçn ho√†n h·∫£o cho nh·ªØng ai y√™u th√≠ch s·ª± m·ªõi l·∫° v√† c·∫£m h·ª©ng t·ª´ c√°i ƒë·∫πp.`;
        const tags = ["g√°i xinh", "hot girl", style, "·∫£nh ƒë·∫πp", "g√°i ƒë·∫πp", `photoshoot ${style}`, `trending ${year}`, "gallery"];

        let html = `<h1>${title}</h1>\n<p>${description}</p>\n<div class="tags">`;
        tags.forEach(tag => { html += `<span class="tag">#${tag}</span> `; });
        html += `</div>\n<div class="gallery" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0;">`;

        let preview = "";
        let validLinks = [];
        
        links.forEach((link, index) => {
          const trimmedLink = link.trim();
          if (trimmedLink.includes("lh3.googleusercontent.com") || trimmedLink.startsWith("data:image") || trimmedLink.match(/\.(jpg|jpeg|png|gif|webp)$/i)) {
            const caption = generateCaption(index, style);
            html += `\n  <figure style="margin: 0;"><img src="${trimmedLink}" alt="${caption}" loading="lazy" style="width: 100%; height: 300px; object-fit: cover; border-radius: 8px;" /><figcaption style="text-align: center; margin-top: 8px; font-style: italic; color: #666;">${caption}</figcaption></figure>`;
            preview += `<img src="${trimmedLink}" alt="${caption}" />\n`;
            validLinks.push(trimmedLink);
          }
        });
        
        html += `\n</div>`;

        const schema = {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": title,
          "image": validLinks,
          "description": description,
          "author": { "@type": "Person", "name": "girlsxinh.net" },
          "publisher": {
            "@type": "Organization",
            "name": "girlsxinh.net",
            "logo": {
              "@type": "ImageObject",
              "url": "https://girlsxinh.net/logo.png"
            }
          },
          "datePublished": new Date().toISOString().split('T')[0],
          "keywords": tags.join(', ')
        };

        html += `\n\n<script type="application/ld+json">\n${JSON.stringify(schema, null, 2)}\n<\/script>`;

        document.getElementById("outputHTML").value = html;
        document.getElementById("preview").innerHTML = preview;
        
        showStatus(`‚úÖ ƒê√£ t·∫°o b√†i vi·∫øt v·ªõi ${validLinks.length} ·∫£nh!`, 'success');
      } catch (error) {
        showStatus('‚ùå C√≥ l·ªói x·∫£y ra: ' + error.message, 'error');
      }
    }

    async function copyToClipboard() {
      const output = document.getElementById("outputHTML");
      
      if (!output.value.trim()) {
        showStatus('‚ùå Ch∆∞a c√≥ n·ªôi dung ƒë·ªÉ sao ch√©p!', 'error');
        return;
      }
      
      try {
        await navigator.clipboard.writeText(output.value);
        showStatus('üìã HTML ƒë√£ ƒë∆∞·ª£c sao ch√©p!', 'success');
      } catch (err) {
        // Fallback for older browsers
        output.select();
        output.setSelectionRange(0, 99999);
        document.execCommand("copy");
        showStatus('üìã HTML ƒë√£ ƒë∆∞·ª£c sao ch√©p!', 'success');
      }
    }
  </script>
</body>
</html>
