<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>SEO Blogger Image Upload Tool</title>
  <style>
    * { box-sizing: border-box; }
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0; padding: 20px; background: #f5f5f5; 
    }
    .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 12px; padding: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
    .header { text-align: center; margin-bottom: 30px; }
    .header h1 { color: #333; margin-bottom: 10px; }
    .tabs { display: flex; border-bottom: 2px solid #eee; margin-bottom: 30px; }
    .tab { padding: 12px 24px; cursor: pointer; border-bottom: 3px solid transparent; font-weight: 500; }
    .tab.active { border-bottom-color: #007bff; color: #007bff; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    
    /* Upload Section */
    .dropzone {
      border: 3px dashed #ddd;
      border-radius: 12px;
      padding: 40px;
      text-align: center;
      margin-bottom: 20px;
      transition: all 0.3s ease;
      background: #fafafa;
    }
    .dropzone:hover { border-color: #007bff; background: #f0f8ff; }
    .dropzone.dropzone-dragging { border-color: #007bff; background: #e3f2fd; }
    .dropzone p { margin: 10px 0; color: #666; font-size: 16px; }
    .input { position: absolute; width: 100%; height: 100%; opacity: 0; cursor: pointer; }
    
    /* Status and Results */
    .status { margin: 20px 0; }
    .image-result { 
      border: 1px solid #ddd; 
      border-radius: 8px; 
      padding: 15px; 
      margin: 10px 0; 
      background: #f9f9f9; 
    }
    .image-url { 
      width: 100%; 
      padding: 8px; 
      border: 1px solid #ddd; 
      border-radius: 4px; 
      margin: 5px 0; 
    }
    .preview-img { max-width: 200px; max-height: 150px; border-radius: 8px; margin: 10px 0; }
    
    /* SEO Section */
    .seo-section { margin: 20px 0; }
    .form-group { margin: 15px 0; }
    .form-group label { display: block; margin-bottom: 5px; font-weight: 500; color: #333; }
    .form-group input, .form-group textarea { 
      width: 100%; 
      padding: 10px; 
      border: 1px solid #ddd; 
      border-radius: 6px; 
      font-size: 14px; 
    }
    .form-group textarea { resize: vertical; min-height: 100px; }
    
    /* Buttons */
    .btn { 
      padding: 10px 20px; 
      border: none; 
      border-radius: 6px; 
      cursor: pointer; 
      font-size: 14px; 
      font-weight: 500; 
      margin: 5px 10px 5px 0; 
      transition: all 0.2s ease; 
    }
    .btn-primary { background: #007bff; color: white; }
    .btn-success { background: #28a745; color: white; }
    .btn-secondary { background: #6c757d; color: white; }
    .btn:hover { transform: translateY(-1px); opacity: 0.9; }
    
    /* Loading */
    .loading-modal {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.5); display: none; z-index: 1000;
      justify-content: center; align-items: center;
    }
    .loading-content { 
      background: white; 
      padding: 30px; 
      border-radius: 12px; 
      text-align: center; 
    }
    .spinner { 
      border: 3px solid #f3f3f3; 
      border-top: 3px solid #007bff; 
      border-radius: 50%; 
      width: 40px; 
      height: 40px; 
      animation: spin 1s linear infinite; 
      margin: 0 auto 15px; 
    }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    
    /* Responsive */
    @media (max-width: 768px) {
      .container { padding: 15px; margin: 10px; }
      .tabs { flex-wrap: wrap; }
      .tab { flex: 1; min-width: 120px; text-align: center; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üöÄ SEO Blogger Image Upload Tool</h1>
      <p>Upload h√¨nh ·∫£nh, t·∫°o n·ªôi dung SEO t·ª± ƒë·ªông v√† ƒëƒÉng l√™n Blogger</p>
    </div>
    
    <div class="tabs">
      <div class="tab active" data-tab="upload">üì∏ Upload ·∫¢nh</div>
      <div class="tab" data-tab="seo">‚úçÔ∏è T·∫°o N·ªôi Dung SEO</div>
      <div class="tab" data-tab="blogger">üìù ƒêƒÉng Blogger</div>
      <div class="tab" data-tab="settings">‚öôÔ∏è C√†i ƒê·∫∑t</div>
    </div>
    
    <!-- Upload Tab -->
    <div class="tab-content active" id="upload">
      <div class="dropzone">
        <p>üñºÔ∏è K√©o th·∫£ ·∫£nh v√†o ƒë√¢y</p>
        <p>ho·∫∑c click ƒë·ªÉ ch·ªçn ·∫£nh</p>
        <input type="file" class="input" accept="image/*" multiple>
      </div>
      <div class="status"></div>
      <button class="btn btn-primary" id="copyAllLinksBtn" style="display:none;">üìã Copy T·∫•t C·∫£ Link</button>
    </div>
    
    <!-- SEO Tab -->
    <div class="tab-content" id="seo">
      <div class="seo-section">
        <h3>üéØ T·∫°o N·ªôi Dung SEO T·ª± ƒê·ªông</h3>
        <div class="form-group">
          <label>T·ª´ kh√≥a ch√≠nh:</label>
          <input type="text" id="mainKeyword" placeholder="Nh·∫≠p t·ª´ kh√≥a ch√≠nh...">
        </div>
        <div class="form-group">
          <label>T·ª´ kh√≥a ph·ª• (c√°ch nhau b·∫±ng d·∫•u ph·∫©y):</label>
          <input type="text" id="subKeywords" placeholder="t·ª´ kh√≥a 1, t·ª´ kh√≥a 2, t·ª´ kh√≥a 3...">
        </div>
        <button class="btn btn-primary" id="generateSEO">ü§ñ T·∫°o N·ªôi Dung SEO</button>
        
        <div id="seoResults" style="display:none;">
          <div class="form-group">
            <label>Ti√™u ƒë·ªÅ SEO:</label>
            <input type="text" id="seoTitle" readonly>
            <button class="btn btn-secondary" onclick="editField('seoTitle')">‚úèÔ∏è Ch·ªânh S·ª≠a</button>
          </div>
          <div class="form-group">
            <label>M√¥ t·∫£ SEO:</label>
            <textarea id="seoDescription" readonly></textarea>
            <button class="btn btn-secondary" onclick="editField('seoDescription')">‚úèÔ∏è Ch·ªânh S·ª≠a</button>
          </div>
          <div class="form-group">
            <label>Hashtags/Tags:</label>
            <input type="text" id="seoTags" readonly>
            <button class="btn btn-secondary" onclick="editField('seoTags')">‚úèÔ∏è Ch·ªânh S·ª≠a</button>
          </div>
          <div class="form-group">
            <label>N·ªôi dung b√†i vi·∫øt:</label>
            <textarea id="blogContent" style="min-height: 300px;" readonly></textarea>
            <button class="btn btn-secondary" onclick="editField('blogContent')">‚úèÔ∏è Ch·ªânh S·ª≠a</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Blogger Tab -->
    <div class="tab-content" id="blogger">
      <div class="seo-section">
        <h3>üìù ƒêƒÉng B√†i L√™n Blogger</h3>
        <div class="form-group">
          <label>Blog ID:</label>
          <input type="text" id="blogId" placeholder="Nh·∫≠p Blog ID c·ªßa b·∫°n...">
        </div>
        <div class="form-group">
          <label>API Key:</label>
          <input type="password" id="apiKey" placeholder="Nh·∫≠p Blogger API Key...">
        </div>
        <button class="btn btn-success" id="postToBlogger">üöÄ ƒêƒÉng B√†i L√™n Blogger</button>
        <div id="bloggerStatus"></div>
      </div>
    </div>
    
    <!-- Settings Tab -->
    <div class="tab-content" id="settings">
      <div class="seo-section">
        <h3>‚öôÔ∏è C√†i ƒê·∫∑t</h3>
        <div class="form-group">
          <label>Imgur Client ID:</label>
          <input type="text" id="imgurClientId" value="3a8be4390ef3eb8">
        </div>
        <div class="form-group">
          <label>Ng√¥n ng·ªØ n·ªôi dung:</label>
          <select id="contentLanguage">
            <option value="vi">Ti·∫øng Vi·ªát</option>
            <option value="en">English</option>
          </select>
        </div>
        <div class="form-group">
          <label>ƒê·ªô d√†i n·ªôi dung:</label>
          <select id="contentLength">
            <option value="short">Ng·∫Øn (300-500 t·ª´)</option>
            <option value="medium">Trung b√¨nh (500-800 t·ª´)</option>
            <option value="long">D√†i (800+ t·ª´)</option>
          </select>
        </div>
        <button class="btn btn-primary" id="saveSettings">üíæ L∆∞u C√†i ƒê·∫∑t</button>
      </div>
    </div>
  </div>
  
  <!-- Loading Modal -->
  <div class="loading-modal" id="loadingModal">
    <div class="loading-content">
      <div class="spinner"></div>
      <p id="loadingText">ƒêang x·ª≠ l√Ω...</p>
    </div>
  </div>

  <script>
    // Global variables
    const uploadedImages = [];
    let currentSEOContent = {};
    
    // Initialize app
    document.addEventListener('DOMContentLoaded', function() {
      initTabs();
      initImageUpload();
      initSEOGenerator();
      initBloggerPost();
      loadSettings();
    });
    
    // Tab functionality
    function initTabs() {
      const tabs = document.querySelectorAll('.tab');
      const contents = document.querySelectorAll('.tab-content');
      
      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          const target = tab.dataset.tab;
          
          tabs.forEach(t => t.classList.remove('active'));
          contents.forEach(c => c.classList.remove('active'));
          
          tab.classList.add('active');
          document.getElementById(target).classList.add('active');
        });
      });
    }
    
    // Image upload functionality
    function initImageUpload() {
      const dropzone = document.querySelector('.dropzone');
      const input = document.querySelector('.input');
      const status = document.querySelector('.status');
      const copyBtn = document.getElementById('copyAllLinksBtn');
      
      // File input change
      input.addEventListener('change', function(e) {
        handleFiles(Array.from(e.target.files));
      });
      
      // Drag and drop
      ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        dropzone.addEventListener(eventName, preventDefaults, false);
      });
      
      function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
      }
      
      ['dragenter', 'dragover'].forEach(eventName => {
        dropzone.addEventListener(eventName, () => dropzone.classList.add('dropzone-dragging'), false);
      });
      
      ['dragleave', 'drop'].forEach(eventName => {
        dropzone.addEventListener(eventName, () => dropzone.classList.remove('dropzone-dragging'), false);
      });
      
      dropzone.addEventListener('drop', function(e) {
        const files = Array.from(e.dataTransfer.files);
        handleFiles(files);
      });
      
      // Copy all links
      copyBtn.addEventListener('click', function() {
        const links = uploadedImages.map(img => img.link).join('\n');
        navigator.clipboard.writeText(links).then(() => {
          alert(`‚úÖ ƒê√£ copy ${uploadedImages.length} link ·∫£nh!`);
        });
      });
    }
    
    function handleFiles(files) {
      files.forEach(file => {
        if (file.type.startsWith('image/') && file.type !== 'image/svg+xml') {
          uploadImage(file);
        } else {
          showError('File kh√¥ng h·ª£p l·ªá: ' + file.name);
        }
      });
    }
    
    function uploadImage(file) {
      showLoading('ƒêang upload ·∫£nh...');
      
      const formData = new FormData();
      formData.append('image', file);
      
      const clientId = document.getElementById('imgurClientId').value;
      
      fetch('https://api.imgur.com/3/image', {
        method: 'POST',
        headers: {
          'Authorization': `Client-ID ${clientId}`
        },
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        hideLoading();
        if (data.success) {
          const imageData = {
            link: data.data.link.replace(/^http:\/\//i, 'https://'),
            deleteHash: data.data.deletehash,
            title: file.name
          };
          uploadedImages.push(imageData);
          displayImage(imageData);
          updateCopyButton();
        } else {
          showError('Upload th·∫•t b·∫°i');
        }
      })
      .catch(error => {
        hideLoading();
        showError('L·ªói upload: ' + error.message);
      });
    }
    
    function displayImage(imageData) {
      const status = document.querySelector('.status');
      const imageDiv = document.createElement('div');
      imageDiv.className = 'image-result';
      imageDiv.innerHTML = `
        <img src="${imageData.link}" class="preview-img" alt="Uploaded image">
        <input type="text" class="image-url" value="${imageData.link}" readonly onclick="this.select()">
        <p><strong>T√™n:</strong> ${imageData.title}</p>
      `;
      status.appendChild(imageDiv);
    }
    
    function updateCopyButton() {
      const copyBtn = document.getElementById('copyAllLinksBtn');
      if (uploadedImages.length > 0) {
        copyBtn.style.display = 'block';
      }
    }
    
    // SEO Content Generator
    function initSEOGenerator() {
      document.getElementById('generateSEO').addEventListener('click', generateSEOContent);
    }
    
    function generateSEOContent() {
      const mainKeyword = document.getElementById('mainKeyword').value.trim();
      const subKeywords = document.getElementById('subKeywords').value.trim();
      
      if (!mainKeyword) {
        alert('Vui l√≤ng nh·∫≠p t·ª´ kh√≥a ch√≠nh!');
        return;
      }
      
      showLoading('ƒêang t·∫°o n·ªôi dung SEO...');
      
      // Simulate AI content generation
      setTimeout(() => {
        const seoContent = generateSEOData(mainKeyword, subKeywords);
        displaySEOResults(seoContent);
        hideLoading();
      }, 2000);
    }
    
    function generateSEOData(mainKeyword, subKeywords) {
      const subKeywordArray = subKeywords ? subKeywords.split(',').map(k => k.trim()) : [];
      const language = document.getElementById('contentLanguage').value;
      const length = document.getElementById('contentLength').value;
      
      // Template-based SEO content generation
      const templates = {
        vi: {
          titles: [
            `${mainKeyword} - H∆∞·ªõng D·∫´n Chi Ti·∫øt v√† C·∫≠p Nh·∫≠t M·ªõi Nh·∫•t 2024`,
            `Top 10 C√°ch ${mainKeyword} Hi·ªáu Qu·∫£ Nh·∫•t Hi·ªán Nay`,
            `${mainKeyword}: B√≠ Quy·∫øt Th√†nh C√¥ng T·ª´ Chuy√™n Gia`,
            `Kh√°m Ph√° ${mainKeyword} - Gi·∫£i Ph√°p Ho√†n H·∫£o Cho B·∫°n`
          ],
          descriptions: [
            `T√¨m hi·ªÉu v·ªÅ ${mainKeyword} v·ªõi h∆∞·ªõng d·∫´n chi ti·∫øt, tips hay v√† c·∫≠p nh·∫≠t m·ªõi nh·∫•t. ${subKeywordArray.join(', ')} v√† nhi·ªÅu th√¥ng tin h·ªØu √≠ch kh√°c.`,
            `Kh√°m ph√° c√°ch ${mainKeyword} hi·ªáu qu·∫£ v·ªõi c√°c ph∆∞∆°ng ph√°p ƒë∆∞·ª£c ch·ª©ng minh. Bao g·ªìm ${subKeywordArray.join(', ')} v√† kinh nghi·ªám th·ª±c t·∫ø.`
          ]
        },
        en: {
          titles: [
            `${mainKeyword} - Complete Guide and Latest Updates 2024`,
            `Top 10 Most Effective ${mainKeyword} Methods`,
            `${mainKeyword}: Expert Success Secrets`,
            `Discover ${mainKeyword} - The Perfect Solution for You`
          ],
          descriptions: [
            `Learn about ${mainKeyword} with detailed guides, useful tips and latest updates. Including ${subKeywordArray.join(', ')} and much more.`,
            `Discover effective ${mainKeyword} methods with proven techniques. Covers ${subKeywordArray.join(', ')} and practical experience.`
          ]
        }
      };
      
      const template = templates[language];
      const randomTitle = template.titles[Math.floor(Math.random() * template.titles.length)];
      const randomDesc = template.descriptions[Math.floor(Math.random() * template.descriptions.length)];
      
      // Generate tags
      const tags = [mainKeyword, ...subKeywordArray, 'SEO', 'guide', 'tips'].slice(0, 10);
      
      // Generate content based on length
      const contentTemplates = {
        short: generateShortContent(mainKeyword, subKeywordArray, language),
        medium: generateMediumContent(mainKeyword, subKeywordArray, language),
        long: generateLongContent(mainKeyword, subKeywordArray, language)
      };
      
      return {
        title: randomTitle,
        description: randomDesc,
        tags: tags.join(', '),
        content: contentTemplates[length]
      };
    }
    
    function generateShortContent(mainKeyword, subKeywords, language) {
      if (language === 'vi') {
        return `<h2>Gi·ªõi thi·ªáu v·ªÅ ${mainKeyword}</h2>
<p>${mainKeyword} ƒëang tr·ªü th√†nh m·ªôt ch·ªß ƒë·ªÅ ƒë∆∞·ª£c quan t√¢m nhi·ªÅu trong th·ªùi gian g·∫ßn ƒë√¢y. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu chi ti·∫øt v·ªÅ ${mainKeyword} v√† c√°c kh√≠a c·∫°nh li√™n quan.</p>

<h3>T·∫°i sao ${mainKeyword} quan tr·ªçng?</h3>
<p>Vi·ªác hi·ªÉu r√µ v·ªÅ ${mainKeyword} s·∫Ω gi√∫p b·∫°n ${subKeywords.length > 0 ? 'n·∫Øm b·∫Øt ƒë∆∞·ª£c ' + subKeywords.join(', ') : 'c√≥ c√°i nh√¨n t·ªïng quan'} v√† √°p d·ª•ng v√†o th·ª±c t·∫ø m·ªôt c√°ch hi·ªáu qu·∫£.</p>

${uploadedImages.length > 0 ? `<img src="${uploadedImages[0].link}" alt="${mainKeyword}" style="max-width: 100%; height: auto;">` : ''}

<h3>K·∫øt lu·∫≠n</h3>
<p>${mainKeyword} l√† m·ªôt lƒ©nh v·ª±c c√≥ nhi·ªÅu ti·ªÅm nƒÉng ph√°t tri·ªÉn. Hy v·ªçng b√†i vi·∫øt n√†y ƒë√£ cung c·∫•p cho b·∫°n nh·ªØng th√¥ng tin h·ªØu √≠ch.</p>`;
      } else {
        return `<h2>Introduction to ${mainKeyword}</h2>
<p>${mainKeyword} has become a topic of great interest recently. In this article, we will explore ${mainKeyword} in detail and its related aspects.</p>

<h3>Why is ${mainKeyword} important?</h3>
<p>Understanding ${mainKeyword} will help you ${subKeywords.length > 0 ? 'grasp ' + subKeywords.join(', ') : 'get an overview'} and apply it effectively in practice.</p>

${uploadedImages.length > 0 ? `<img src="${uploadedImages[0].link}" alt="${mainKeyword}" style="max-width: 100%; height: auto;">` : ''}

<h3>Conclusion</h3>
<p>${mainKeyword} is a field with great development potential. Hope this article has provided you with useful information.</p>`;
      }
    }
    
    function generateMediumContent(mainKeyword, subKeywords, language) {
      const shortContent = generateShortContent(mainKeyword, subKeywords, language);
      if (language === 'vi') {
        return shortContent + `
<h3>C√°c ph∆∞∆°ng ph√°p hi·ªáu qu·∫£</h3>
<p>ƒê·ªÉ ƒë·∫°t ƒë∆∞·ª£c k·∫øt qu·∫£ t·ªët nh·∫•t v·ªõi ${mainKeyword}, b·∫°n c·∫ßn √°p d·ª•ng c√°c ph∆∞∆°ng ph√°p sau:</p>
<ul>
  <li>Nghi√™n c·ª©u k·ªπ l∆∞·ª°ng v·ªÅ ${mainKeyword}</li>
  <li>Th·ª±c h√†nh th∆∞·ªùng xuy√™n</li>
  <li>H·ªçc h·ªèi t·ª´ kinh nghi·ªám c·ªßa ng∆∞·ªùi kh√°c</li>
  <li>C·∫≠p nh·∫≠t th√¥ng tin m·ªõi nh·∫•t</li>
</ul>

${uploadedImages.length > 1 ? `<img src="${uploadedImages[1].link}" alt="${mainKeyword} methods" style="max-width: 100%; height: auto;">` : ''}

<h3>Nh·ªØng l∆∞u √Ω quan tr·ªçng</h3>
<p>Khi th·ª±c hi·ªán ${mainKeyword}, b·∫°n c·∫ßn ch√∫ √Ω ƒë·∫øn ${subKeywords.length > 0 ? subKeywords.join(', ') : 'c√°c y·∫øu t·ªë c∆° b·∫£n'} ƒë·ªÉ ƒë·∫£m b·∫£o hi·ªáu qu·∫£ cao nh·∫•t.</p>`;
      } else {
        return shortContent + `
<h3>Effective Methods</h3>
<p>To achieve the best results with ${mainKeyword}, you need to apply the following methods:</p>
<ul>
  <li>Thorough research on ${mainKeyword}</li>
  <li>Regular practice</li>
  <li>Learning from others' experiences</li>
  <li>Staying updated with latest information</li>
</ul>

${uploadedImages.length > 1 ? `<img src="${uploadedImages[1].link}" alt="${mainKeyword} methods" style="max-width: 100%; height: auto;">` : ''}

<h3>Important Notes</h3>
<p>When implementing ${mainKeyword}, you need to pay attention to ${subKeywords.length > 0 ? subKeywords.join(', ') : 'basic factors'} to ensure maximum effectiveness.</p>`;
      }
    }
    
    function generateLongContent(mainKeyword, subKeywords, language) {
      const mediumContent = generateMediumContent(mainKeyword, subKeywords, language);
      if (language === 'vi') {
        return mediumContent + `
<h3>Xu h∆∞·ªõng ph√°t tri·ªÉn</h3>
<p>Trong t∆∞∆°ng lai, ${mainKeyword} ƒë∆∞·ª£c d·ª± ƒëo√°n s·∫Ω c√≥ nh·ªØng b∆∞·ªõc ph√°t tri·ªÉn v∆∞·ª£t b·∫≠c v·ªõi s·ª± h·ªó tr·ª£ c·ªßa c√¥ng ngh·ªá m·ªõi.</p>

<h3>Case Study th·ª±c t·∫ø</h3>
<p>Nhi·ªÅu doanh nghi·ªáp ƒë√£ √°p d·ª•ng th√†nh c√¥ng ${mainKeyword} v√† ƒë·∫°t ƒë∆∞·ª£c k·∫øt qu·∫£ ·∫•n t∆∞·ª£ng. ƒêi·ªÅu n√†y ch·ª©ng minh t·∫ßm quan tr·ªçng c·ªßa vi·ªác hi·ªÉu v√† √°p d·ª•ng ƒë√∫ng c√°ch.</p>

${uploadedImages.length > 2 ? `<img src="${uploadedImages[2].link}" alt="${mainKeyword} case study" style="max-width: 100%; height: auto;">` : ''}

<h3>FAQ - C√¢u h·ªèi th∆∞·ªùng g·∫∑p</h3>
<h4>1. ${mainKeyword} c√≥ kh√≥ h·ªçc kh√¥ng?</h4>
<p>Kh√¥ng, v·ªõi ph∆∞∆°ng ph√°p h·ªçc ƒë√∫ng c√°ch v√† ki√™n tr√¨, b·∫°n ho√†n to√†n c√≥ th·ªÉ n·∫Øm v·ªØng ${mainKeyword}.</p>

<h4>2. C·∫ßn bao l√¢u ƒë·ªÉ th√†nh th·∫°o ${mainKeyword}?</h4>
<p>Th·ªùi gian h·ªçc t·∫≠p t√πy thu·ªôc v√†o kh·∫£ nƒÉng c√° nh√¢n, nh∆∞ng th∆∞·ªùng t·ª´ 3-6 th√°ng b·∫°n c√≥ th·ªÉ ƒë·∫°t ƒë∆∞·ª£c tr√¨nh ƒë·ªô c∆° b·∫£n.</p>

<h3>T√†i li·ªáu tham kh·∫£o</h3>
<p>ƒê·ªÉ t√¨m hi·ªÉu th√™m v·ªÅ ${mainKeyword}, b·∫°n c√≥ th·ªÉ tham kh·∫£o c√°c ngu·ªìn t√†i li·ªáu uy t√≠n v√† c·∫≠p nh·∫≠t th∆∞·ªùng xuy√™n.</p>`;
      } else {
        return mediumContent + `
<h3>Development Trends</h3>
<p>In the future, ${mainKeyword} is predicted to have breakthrough developments with the support of new technologies.</p>

<h3>Real Case Studies</h3>
<p>Many businesses have successfully applied ${mainKeyword} and achieved impressive results. This proves the importance of understanding and applying it correctly.</p>

${uploadedImages.length > 2 ? `<img src="${uploadedImages[2].link}" alt="${mainKeyword} case study" style="max-width: 100%; height: auto;">` : ''}

<h3>FAQ - Frequently Asked Questions</h3>
<h4>1. Is ${mainKeyword} difficult to learn?</h4>
<p>No, with the right learning method and persistence, you can completely master ${mainKeyword}.</p>

<h4>2. How long does it take to master ${mainKeyword}?</h4>
<p>Learning time depends on individual ability, but usually 3-6 months you can reach basic level.</p>

<h3>References</h3>
<p>To learn more about ${mainKeyword}, you can refer to reputable sources and update regularly.</p>`;
      }
    }
    
    function displaySEOResults(seoContent) {
      currentSEOContent = seoContent;
      document.getElementById('seoTitle').value = seoContent.title;
      document.getElementById('seoDescription').value = seoContent.description;
      document.getElementById('seoTags').value = seoContent.tags;
      document.getElementById('blogContent').value = seoContent.content;
      document.getElementById('seoResults').style.display = 'block';
    }
    
    function editField(fieldId) {
      const field = document.getElementById(fieldId);
      field.removeAttribute('readonly');
      field.focus();
      field.style.border = '2px solid #007bff';
      
      const saveBtn = document.createElement('button');
      saveBtn.textContent = 'üíæ L∆∞u';
      saveBtn.className = 'btn btn-success';
      saveBtn.onclick = () => {
        field.setAttribute('readonly', true);
        field.style.border = '1px solid #ddd';
        saveBtn.remove();
        currentSEOContent[fieldId.replace('seo', '').toLowerCase()] = field.value;
      };
      field.parentNode.appendChild(saveBtn);
    }
    
    // Blogger posting
    function initBloggerPost() {
      document.getElementById('postToBlogger').addEventListener('click', postToBlogger);
    }
    
    function postToBlogger() {
      const blogId = document.getElementById('blogId').value.trim();
      const apiKey = document.getElementById('apiKey').value.trim();
      
      if (!blogId || !apiKey) {
        alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß Blog ID v√† API Key!');
        return;
      }
      
      if (!currentSEOContent.title) {
        alert('Vui l√≤ng t·∫°o n·ªôi dung SEO tr∆∞·ªõc khi ƒëƒÉng b√†i!');
        return;
      }
      
      showLoading('ƒêang ƒëƒÉng b√†i l√™n Blogger...');
      
      const postData = {
        kind: 'blogger#post',
        title: currentSEOContent.title || document.getElementById('seoTitle').value,
        content: currentSEOContent.content || document.getElementById('blogContent').value,
        labels: (currentSEOContent.tags || document.getElementById('seoTags').value).split(',').map(tag => tag.trim())
      };
      
      fetch(`https://www.googleapis.com/blogger/v3/blogs/${blogId}/posts?key=${apiKey}`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(postData)
      })
      .then(response => response.json())
      .then(data => {
        hideLoading();
        if (data.id) {
          showBloggerSuccess(data);
        } else {
          showBloggerError(data.error?.message || 'ƒêƒÉng b√†i th·∫•t b·∫°i');
        }
      })
      .catch(error => {
        hideLoading();
        showBloggerError('L·ªói k·∫øt n·ªëi: ' + error.message);
      });
    }
    
    function showBloggerSuccess(data) {
      const status = document.getElementById('bloggerStatus');
      status.innerHTML = `
        <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 15px; border-radius: 8px; margin: 15px 0;">
          <h4 style="color: #155724; margin: 0 0 10px 0;">‚úÖ ƒêƒÉng b√†i th√†nh c√¥ng!</h4>
          <p><strong>Ti√™u ƒë·ªÅ:</strong> ${data.title}</p>
          <p><strong>URL:</strong> <a href="${data.url}" target="_blank">${data.url}</a></p>
          <p><strong>Tr·∫°ng th√°i:</strong> ${data.status}</p>
          <p><strong>Ng√†y t·∫°o:</strong> ${new Date(data.published).toLocaleString('vi-VN')}</p>
        </div>
      `;
    }
    
    function showBloggerError(message) {
      const status = document.getElementById('bloggerStatus');
      status.innerHTML = `
        <div style="background: #f8d7da; border: 1px solid #f5c6cb; padding: 15px; border-radius: 8px; margin: 15px 0;">
          <h4 style="color: #721c24; margin: 0 0 10px 0;">‚ùå ƒêƒÉng b√†i th·∫•t b·∫°i!</h4>
          <p>${message}</p>
          <p><small>Ki·ªÉm tra l·∫°i Blog ID, API Key v√† quy·ªÅn truy c·∫≠p.</small></p>
        </div>
      `;
    }
    
    // Settings management
    function loadSettings() {
      const savedSettings = localStorage.getItem('seo-blogger-settings');
      if (savedSettings) {
        const settings = JSON.parse(savedSettings);
        document.getElementById('imgurClientId').value = settings.imgurClientId || '3a8be4390ef3eb8';
        document.getElementById('contentLanguage').value = settings.contentLanguage || 'vi';
        document.getElementById('contentLength').value = settings.contentLength || 'medium';
        document.getElementById('blogId').value = settings.blogId || '';
      }
      
      document.getElementById('saveSettings').addEventListener('click', saveSettings);
    }
    
    function saveSettings() {
      const settings = {
        imgurClientId: document.getElementById('imgurClientId').value,
        contentLanguage: document.getElementById('contentLanguage').value,
        contentLength: document.getElementById('contentLength').value,
        blogId: document.getElementById('blogId').value
      };
      
      localStorage.setItem('seo-blogger-settings', JSON.stringify(settings));
      alert('‚úÖ ƒê√£ l∆∞u c√†i ƒë·∫∑t!');
    }
    
    // Utility functions
    function showLoading(text = 'ƒêang x·ª≠ l√Ω...') {
      document.getElementById('loadingText').textContent = text;
      document.getElementById('loadingModal').style.display = 'flex';
    }
    
    function hideLoading() {
      document.getElementById('loadingModal').style.display = 'none';
    }
    
    function showError(message) {
      const status = document.querySelector('.status');
      const errorDiv = document.createElement('div');
      errorDiv.style.cssText = 'background: #f8d7da; border: 1px solid #f5c6cb; padding: 10px; border-radius: 5px; margin: 10px 0; color: #721c24;';
      errorDiv.innerHTML = `‚ùå ${message}`;
      status.appendChild(errorDiv);
      
      setTimeout(() => errorDiv.remove(), 5000);
    }
    
    // Advanced features
    function analyzeImageContent(imageUrl) {
      // Simulate AI image analysis
      return new Promise((resolve) => {
        setTimeout(() => {
          const suggestions = [
            'c√¥ng ngh·ªá', 'thi·∫øt k·∫ø', 'kinh doanh', 'marketing', 'gi√°o d·ª•c',
            'du l·ªãch', '·∫©m th·ª±c', 'th·ªÉ thao', 's·ª©c kh·ªèe', 'l√†m ƒë·∫πp'
          ];
          const randomSuggestion = suggestions[Math.floor(Math.random() * suggestions.length)];
          resolve(randomSuggestion);
        }, 1000);
      });
    }
    
    // Auto-suggest keywords based on uploaded images
    async function autoSuggestKeywords() {
      if (uploadedImages.length === 0) return;
      
      showLoading('ƒêang ph√¢n t√≠ch h√¨nh ·∫£nh...');
      
      try {
        const suggestions = [];
        for (const image of uploadedImages.slice(0, 3)) { // Analyze first 3 images
          const keyword = await analyzeImageContent(image.link);
          suggestions.push(keyword);
        }
        
        const uniqueSuggestions = [...new Set(suggestions)];
        document.getElementById('mainKeyword').value = uniqueSuggestions[0] || '';
        document.getElementById('subKeywords').value = uniqueSuggestions.slice(1).join(', ');
        
        hideLoading();
        alert('‚úÖ ƒê√£ t·ª± ƒë·ªông ƒë·ªÅ xu·∫•t t·ª´ kh√≥a d·ª±a tr√™n h√¨nh ·∫£nh!');
      } catch (error) {
        hideLoading();
        console.error('Auto-suggest failed:', error);
      }
    }
    
    // Add auto-suggest button
    document.addEventListener('DOMContentLoaded', function() {
      const seoSection = document.querySelector('#seo .seo-section');
      const autoSuggestBtn = document.createElement('button');
      autoSuggestBtn.textContent = 'ü§ñ T·ª± ƒê·ªông ƒê·ªÅ Xu·∫•t T·ª´ ·∫¢nh';
      autoSuggestBtn.className = 'btn btn-secondary';
      autoSuggestBtn.onclick = autoSuggestKeywords;
      
      const generateBtn = document.getElementById('generateSEO');
      generateBtn.parentNode.insertBefore(autoSuggestBtn, generateBtn);
    });
    
    // Export/Import functionality
    function exportData() {
      const data = {
        images: uploadedImages,
        seoContent: currentSEOContent,
        settings: JSON.parse(localStorage.getItem('seo-blogger-settings') || '{}')
      };
      
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `seo-blogger-backup-${new Date().toISOString().split('T')[0]}.json`;
      a.click();
      URL.revokeObjectURL(url);
    }
    
    function importData(event) {
      const file = event.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = function(e) {
        try {
          const data = JSON.parse(e.target.result);
          
          if (data.images) {
            uploadedImages.length = 0;
            uploadedImages.push(...data.images);
            data.images.forEach(displayImage);
            updateCopyButton();
          }
          
          if (data.seoContent) {
            displaySEOResults(data.seoContent);
          }
          
          if (data.settings) {
            localStorage.setItem('seo-blogger-settings', JSON.stringify(data.settings));
            loadSettings();
          }
          
          alert('‚úÖ Import d·ªØ li·ªáu th√†nh c√¥ng!');
        } catch (error) {
          alert('‚ùå File kh√¥ng h·ª£p l·ªá!');
        }
      };
      reader.readAsText(file);
    }
    
    // Add export/import buttons to settings
    document.addEventListener('DOMContentLoaded', function() {
      const settingsSection = document.querySelector('#settings .seo-section');
      
      const exportBtn = document.createElement('button');
      exportBtn.textContent = 'üì§ Export D·ªØ Li·ªáu';
      exportBtn.className = 'btn btn-secondary';
      exportBtn.onclick = exportData;
      
      const importInput = document.createElement('input');
      importInput.type = 'file';
      importInput.accept = '.json';
      importInput.style.display = 'none';
      importInput.onchange = importData;
      
      const importBtn = document.createElement('button');
      importBtn.textContent = 'üì• Import D·ªØ Li·ªáu';
      importBtn.className = 'btn btn-secondary';
      importBtn.onclick = () => importInput.click();
      
      const saveBtn = document.getElementById('saveSettings');
      saveBtn.parentNode.insertBefore(exportBtn, saveBtn);
      saveBtn.parentNode.insertBefore(importBtn, saveBtn);
      saveBtn.parentNode.insertBefore(importInput, saveBtn);
    });
    
    // Keyboard shortcuts
    document.addEventListener('keydown', function(e) {
      if (e.ctrlKey || e.metaKey) {
        switch(e.key) {
          case '1':
            e.preventDefault();
            document.querySelector('[data-tab="upload"]').click();
            break;
          case '2':
            e.preventDefault();
            document.querySelector('[data-tab="seo"]').click();
            break;
          case '3':
            e.preventDefault();
            document.querySelector('[data-tab="blogger"]').click();
            break;
          case '4':
            e.preventDefault();
            document.querySelector('[data-tab="settings"]').click();
            break;
          case 's':
            e.preventDefault();
            if (document.getElementById('seo').classList.contains('active')) {
              document.getElementById('generateSEO').click();
            }
            break;
        }
      }
    });
    
    // Add keyboard shortcuts info
    document.addEventListener('DOMContentLoaded', function() {
      const container = document.querySelector('.container');
      const shortcutsInfo = document.createElement('div');
      shortcutsInfo.style.cssText = 'position: fixed; bottom: 20px; right: 20px; background: rgba(0,0,0,0.8); color: white; padding: 10px; border-radius: 8px; font-size: 12px; z-index: 999;';
      shortcutsInfo.innerHTML = `
        <strong>Ph√≠m t·∫Øt:</strong><br>
        Ctrl+1: Upload | Ctrl+2: SEO | Ctrl+3: Blogger | Ctrl+4: Settings<br>
        Ctrl+S: T·∫°o SEO (trong tab SEO)
      `;
      document.body.appendChild(shortcutsInfo);
      
      // Auto hide after 10 seconds
      setTimeout(() => {
        shortcutsInfo.style.opacity = '0.3';
        shortcutsInfo.style.transition = 'opacity 0.5s';
      }, 10000);
    });
  </script>
</body>
</html>
